{"version":3,"sources":["@wordpress/block-library/src/media-text/save.js"],"names":["classnames","isEmpty","useInnerBlocksProps","useBlockProps","imageFillStyles","DEFAULT_MEDIA_SIZE_SLUG","DEFAULT_MEDIA_WIDTH","noop","save","attributes","isStackedOnMobile","mediaAlt","mediaPosition","mediaType","mediaUrl","mediaWidth","mediaId","verticalAlignment","imageFill","focalPoint","linkClass","href","linkTarget","rel","mediaSizeSlug","newRel","undefined","imageClasses","image","mediaTypeRenders","video","className","backgroundStyles","gridTemplateColumns","style"],"mappings":"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","sourcesContent":["/**\n * External dependencies\n */\nimport classnames from 'classnames';\nimport { isEmpty } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { useInnerBlocksProps, useBlockProps } from '@wordpress/block-editor';\n\n/**\n * Internal dependencies\n */\nimport { imageFillStyles } from './media-container';\nimport { DEFAULT_MEDIA_SIZE_SLUG } from './constants';\n\nconst DEFAULT_MEDIA_WIDTH = 50;\nconst noop = () => {};\n\nexport default function save( { attributes } ) {\n\tconst {\n\t\tisStackedOnMobile,\n\t\tmediaAlt,\n\t\tmediaPosition,\n\t\tmediaType,\n\t\tmediaUrl,\n\t\tmediaWidth,\n\t\tmediaId,\n\t\tverticalAlignment,\n\t\timageFill,\n\t\tfocalPoint,\n\t\tlinkClass,\n\t\thref,\n\t\tlinkTarget,\n\t\trel,\n\t} = attributes;\n\tconst mediaSizeSlug = attributes.mediaSizeSlug || DEFAULT_MEDIA_SIZE_SLUG;\n\tconst newRel = isEmpty( rel ) ? undefined : rel;\n\n\tconst imageClasses = classnames( {\n\t\t[ `wp-image-${ mediaId }` ]: mediaId && mediaType === 'image',\n\t\t[ `size-${ mediaSizeSlug }` ]: mediaId && mediaType === 'image',\n\t} );\n\n\tlet image = (\n\t\t<img\n\t\t\tsrc={ mediaUrl }\n\t\t\talt={ mediaAlt }\n\t\t\tclassName={ imageClasses || null }\n\t\t/>\n\t);\n\n\tif ( href ) {\n\t\timage = (\n\t\t\t<a\n\t\t\t\tclassName={ linkClass }\n\t\t\t\thref={ href }\n\t\t\t\ttarget={ linkTarget }\n\t\t\t\trel={ newRel }\n\t\t\t>\n\t\t\t\t{ image }\n\t\t\t</a>\n\t\t);\n\t}\n\n\tconst mediaTypeRenders = {\n\t\timage: () => image,\n\t\tvideo: () => <video controls src={ mediaUrl } />,\n\t};\n\tconst className = classnames( {\n\t\t'has-media-on-the-right': 'right' === mediaPosition,\n\t\t'is-stacked-on-mobile': isStackedOnMobile,\n\t\t[ `is-vertically-aligned-${ verticalAlignment }` ]: verticalAlignment,\n\t\t'is-image-fill': imageFill,\n\t} );\n\tconst backgroundStyles = imageFill\n\t\t? imageFillStyles( mediaUrl, focalPoint )\n\t\t: {};\n\n\tlet gridTemplateColumns;\n\tif ( mediaWidth !== DEFAULT_MEDIA_WIDTH ) {\n\t\tgridTemplateColumns =\n\t\t\t'right' === mediaPosition\n\t\t\t\t? `auto ${ mediaWidth }%`\n\t\t\t\t: `${ mediaWidth }% auto`;\n\t}\n\tconst style = {\n\t\tgridTemplateColumns,\n\t};\n\n\tif ( 'right' === mediaPosition ) {\n\t\treturn (\n\t\t\t<div { ...useBlockProps.save( { className, style } ) }>\n\t\t\t\t<div\n\t\t\t\t\t{ ...useInnerBlocksProps.save( {\n\t\t\t\t\t\tclassName: 'wp-block-media-text__content',\n\t\t\t\t\t} ) }\n\t\t\t\t/>\n\t\t\t\t<figure\n\t\t\t\t\tclassName=\"wp-block-media-text__media\"\n\t\t\t\t\tstyle={ backgroundStyles }\n\t\t\t\t>\n\t\t\t\t\t{ ( mediaTypeRenders[ mediaType ] || noop )() }\n\t\t\t\t</figure>\n\t\t\t</div>\n\t\t);\n\t}\n\treturn (\n\t\t<div { ...useBlockProps.save( { className, style } ) }>\n\t\t\t<figure\n\t\t\t\tclassName=\"wp-block-media-text__media\"\n\t\t\t\tstyle={ backgroundStyles }\n\t\t\t>\n\t\t\t\t{ ( mediaTypeRenders[ mediaType ] || noop )() }\n\t\t\t</figure>\n\t\t\t<div\n\t\t\t\t{ ...useInnerBlocksProps.save( {\n\t\t\t\t\tclassName: 'wp-block-media-text__content',\n\t\t\t\t} ) }\n\t\t\t/>\n\t\t</div>\n\t);\n}\n"]}