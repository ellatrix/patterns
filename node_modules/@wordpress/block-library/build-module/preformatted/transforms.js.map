{"version":3,"sources":["@wordpress/block-library/src/preformatted/transforms.js"],"names":["createBlock","transforms","from","type","blocks","transform","content","anchor","isMatch","node","nodeName","children","length","firstChild","schema","phrasingContentSchema","pre","to","attributes","replace"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,WAAT,QAA4B,mBAA5B;AAEA,MAAMC,UAAU,GAAG;AAClBC,EAAAA,IAAI,EAAE,CACL;AACCC,IAAAA,IAAI,EAAE,OADP;AAECC,IAAAA,MAAM,EAAE,CAAE,WAAF,EAAe,gBAAf,CAFT;AAGCC,IAAAA,SAAS,EAAE;AAAA,UAAE;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,OAAF;AAAA,aACVP,WAAW,CAAE,mBAAF,EAAuB;AACjCM,QAAAA,OADiC;AAEjCC,QAAAA;AAFiC,OAAvB,CADD;AAAA;AAHZ,GADK,EAUL;AACCJ,IAAAA,IAAI,EAAE,KADP;AAECK,IAAAA,OAAO,EAAIC,IAAF,IACRA,IAAI,CAACC,QAAL,KAAkB,KAAlB,IACA,EACCD,IAAI,CAACE,QAAL,CAAcC,MAAd,KAAyB,CAAzB,IACAH,IAAI,CAACI,UAAL,CAAgBH,QAAhB,KAA6B,MAF9B,CAJF;AAQCI,IAAAA,MAAM,EAAE;AAAA,UAAE;AAAEC,QAAAA;AAAF,OAAF;AAAA,aAAmC;AAC1CC,QAAAA,GAAG,EAAE;AACJL,UAAAA,QAAQ,EAAEI;AADN;AADqC,OAAnC;AAAA;AART,GAVK,CADY;AA0BlBE,EAAAA,EAAE,EAAE,CACH;AACCd,IAAAA,IAAI,EAAE,OADP;AAECC,IAAAA,MAAM,EAAE,CAAE,gBAAF,CAFT;AAGCC,IAAAA,SAAS,EAAIa,UAAF,IACVlB,WAAW,CAAE,gBAAF,EAAoB,EAC9B,GAAGkB,UAD2B;AAE9BZ,MAAAA,OAAO,EAAEY,UAAU,CAACZ,OAAX,CAAmBa,OAAnB,CAA4B,KAA5B,EAAmC,MAAnC;AAFqB,KAApB;AAJb,GADG,EAUH;AACChB,IAAAA,IAAI,EAAE,OADP;AAECC,IAAAA,MAAM,EAAE,CAAE,WAAF,CAFT;AAGCC,IAAAA,SAAS,EAAIa,UAAF,IAAkBlB,WAAW,CAAE,WAAF,EAAekB,UAAf;AAHzC,GAVG;AA1Bc,CAAnB;AA4CA,eAAejB,UAAf","sourcesContent":["/**\n * WordPress dependencies\n */\nimport { createBlock } from '@wordpress/blocks';\n\nconst transforms = {\n\tfrom: [\n\t\t{\n\t\t\ttype: 'block',\n\t\t\tblocks: [ 'core/code', 'core/paragraph' ],\n\t\t\ttransform: ( { content, anchor } ) =>\n\t\t\t\tcreateBlock( 'core/preformatted', {\n\t\t\t\t\tcontent,\n\t\t\t\t\tanchor,\n\t\t\t\t} ),\n\t\t},\n\t\t{\n\t\t\ttype: 'raw',\n\t\t\tisMatch: ( node ) =>\n\t\t\t\tnode.nodeName === 'PRE' &&\n\t\t\t\t! (\n\t\t\t\t\tnode.children.length === 1 &&\n\t\t\t\t\tnode.firstChild.nodeName === 'CODE'\n\t\t\t\t),\n\t\t\tschema: ( { phrasingContentSchema } ) => ( {\n\t\t\t\tpre: {\n\t\t\t\t\tchildren: phrasingContentSchema,\n\t\t\t\t},\n\t\t\t} ),\n\t\t},\n\t],\n\tto: [\n\t\t{\n\t\t\ttype: 'block',\n\t\t\tblocks: [ 'core/paragraph' ],\n\t\t\ttransform: ( attributes ) =>\n\t\t\t\tcreateBlock( 'core/paragraph', {\n\t\t\t\t\t...attributes,\n\t\t\t\t\tcontent: attributes.content.replace( /\\n/g, '<br>' ),\n\t\t\t\t} ),\n\t\t},\n\t\t{\n\t\t\ttype: 'block',\n\t\t\tblocks: [ 'core/code' ],\n\t\t\ttransform: ( attributes ) => createBlock( 'core/code', attributes ),\n\t\t},\n\t],\n};\n\nexport default transforms;\n"]}