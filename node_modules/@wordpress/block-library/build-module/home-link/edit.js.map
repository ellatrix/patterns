{"version":3,"sources":["@wordpress/block-library/src/home-link/edit.js"],"names":["classnames","RichText","useBlockProps","store","blockEditorStore","__","useSelect","useDispatch","coreStore","useEffect","preventDefault","event","HomeEdit","attributes","setAttributes","context","homeUrl","select","getUnstableBase","home","__unstableMarkNextChangeAsNotPersistent","textColor","backgroundColor","style","blockProps","className","color","text","background","label","undefined","labelValue"],"mappings":"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","sourcesContent":["/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tRichText,\n\tuseBlockProps,\n\tstore as blockEditorStore,\n} from '@wordpress/block-editor';\nimport { __ } from '@wordpress/i18n';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { useEffect } from '@wordpress/element';\n\nconst preventDefault = ( event ) => event.preventDefault();\n\nexport default function HomeEdit( { attributes, setAttributes, context } ) {\n\tconst { homeUrl } = useSelect( ( select ) => {\n\t\tconst {\n\t\t\tgetUnstableBase, // Site index.\n\t\t} = select( coreStore );\n\t\treturn {\n\t\t\thomeUrl: getUnstableBase()?.home,\n\t\t};\n\t}, [] );\n\tconst { __unstableMarkNextChangeAsNotPersistent } =\n\t\tuseDispatch( blockEditorStore );\n\n\tconst { textColor, backgroundColor, style } = context;\n\tconst blockProps = useBlockProps( {\n\t\tclassName: classnames( 'wp-block-navigation-item', {\n\t\t\t'has-text-color': !! textColor || !! style?.color?.text,\n\t\t\t[ `has-${ textColor }-color` ]: !! textColor,\n\t\t\t'has-background': !! backgroundColor || !! style?.color?.background,\n\t\t\t[ `has-${ backgroundColor }-background-color` ]: !! backgroundColor,\n\t\t} ),\n\t\tstyle: {\n\t\t\tcolor: style?.color?.text,\n\t\t\tbackgroundColor: style?.color?.background,\n\t\t},\n\t} );\n\n\tconst { label } = attributes;\n\n\tuseEffect( () => {\n\t\tif ( label === undefined ) {\n\t\t\t__unstableMarkNextChangeAsNotPersistent();\n\t\t\tsetAttributes( { label: __( 'Home' ) } );\n\t\t}\n\t}, [ label ] );\n\n\treturn (\n\t\t<>\n\t\t\t<div { ...blockProps }>\n\t\t\t\t<a\n\t\t\t\t\tclassName=\"wp-block-home-link__content wp-block-navigation-item__content\"\n\t\t\t\t\thref={ homeUrl }\n\t\t\t\t\tonClick={ preventDefault }\n\t\t\t\t>\n\t\t\t\t\t<RichText\n\t\t\t\t\t\tidentifier=\"label\"\n\t\t\t\t\t\tclassName=\"wp-block-home-link__label\"\n\t\t\t\t\t\tvalue={ label }\n\t\t\t\t\t\tonChange={ ( labelValue ) => {\n\t\t\t\t\t\t\tsetAttributes( { label: labelValue } );\n\t\t\t\t\t\t} }\n\t\t\t\t\t\taria-label={ __( 'Home link text' ) }\n\t\t\t\t\t\tplaceholder={ __( 'Add home link' ) }\n\t\t\t\t\t\twithoutInteractiveFormatting\n\t\t\t\t\t\tallowedFormats={ [\n\t\t\t\t\t\t\t'core/bold',\n\t\t\t\t\t\t\t'core/italic',\n\t\t\t\t\t\t\t'core/image',\n\t\t\t\t\t\t\t'core/strikethrough',\n\t\t\t\t\t\t] }\n\t\t\t\t\t/>\n\t\t\t\t</a>\n\t\t\t</div>\n\t\t</>\n\t);\n}\n"]}