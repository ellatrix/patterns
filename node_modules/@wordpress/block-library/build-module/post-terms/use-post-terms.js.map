{"version":3,"sources":["@wordpress/block-library/src/post-terms/use-post-terms.js"],"names":["store","coreStore","useSelect","usePostTerms","postId","term","slug","select","visible","visibility","publicly_queryable","postTerms","_isLoading","hasPostTerms","getEntityRecords","isResolving","taxonomyArgs","post","per_page","context","terms","isLoading","length"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,KAAK,IAAIC,SAAlB,QAAmC,sBAAnC;AACA,SAASC,SAAT,QAA0B,iBAA1B;AAEA,eAAe,SAASC,YAAT,OAA0C;AAAA;;AAAA,MAAnB;AAAEC,IAAAA,MAAF;AAAUC,IAAAA;AAAV,GAAmB;AACxD,QAAM;AAAEC,IAAAA;AAAF,MAAWD,IAAjB;AAEA,SAAOH,SAAS,CACbK,MAAF,IAAc;AAAA;;AACb,UAAMC,OAAO,GAAGH,IAAH,aAAGA,IAAH,2CAAGA,IAAI,CAAEI,UAAT,qDAAG,iBAAkBC,kBAAlC;;AACA,QAAK,CAAEF,OAAP,EAAiB;AAChB,aAAO;AACNG,QAAAA,SAAS,EAAE,EADL;AAENC,QAAAA,UAAU,EAAE,KAFN;AAGNC,QAAAA,YAAY,EAAE;AAHR,OAAP;AAKA;;AAED,UAAM;AAAEC,MAAAA,gBAAF;AAAoBC,MAAAA;AAApB,QAAoCR,MAAM,CAAEN,SAAF,CAAhD;AACA,UAAMe,YAAY,GAAG,CACpB,UADoB,EAEpBV,IAFoB,EAGpB;AACCW,MAAAA,IAAI,EAAEb,MADP;AAECc,MAAAA,QAAQ,EAAE,CAAC,CAFZ;AAGCC,MAAAA,OAAO,EAAE;AAHV,KAHoB,CAArB;AASA,UAAMC,KAAK,GAAGN,gBAAgB,CAAE,GAAGE,YAAL,CAA9B;AAEA,WAAO;AACNL,MAAAA,SAAS,EAAES,KADL;AAENC,MAAAA,SAAS,EAAEN,WAAW,CAAE,kBAAF,EAAsBC,YAAtB,CAFhB;AAGNH,MAAAA,YAAY,EAAE,CAAC,EAAEO,KAAF,aAAEA,KAAF,eAAEA,KAAK,CAAEE,MAAT;AAHT,KAAP;AAKA,GA5Bc,EA6Bf,CAAElB,MAAF,EAAUC,IAAV,aAAUA,IAAV,4CAAUA,IAAI,CAAEI,UAAhB,sDAAU,kBAAkBC,kBAA5B,EAAgDJ,IAAhD,CA7Be,CAAhB;AA+BA","sourcesContent":["/**\n * WordPress dependencies\n */\nimport { store as coreStore } from '@wordpress/core-data';\nimport { useSelect } from '@wordpress/data';\n\nexport default function usePostTerms( { postId, term } ) {\n\tconst { slug } = term;\n\n\treturn useSelect(\n\t\t( select ) => {\n\t\t\tconst visible = term?.visibility?.publicly_queryable;\n\t\t\tif ( ! visible ) {\n\t\t\t\treturn {\n\t\t\t\t\tpostTerms: [],\n\t\t\t\t\t_isLoading: false,\n\t\t\t\t\thasPostTerms: false,\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tconst { getEntityRecords, isResolving } = select( coreStore );\n\t\t\tconst taxonomyArgs = [\n\t\t\t\t'taxonomy',\n\t\t\t\tslug,\n\t\t\t\t{\n\t\t\t\t\tpost: postId,\n\t\t\t\t\tper_page: -1,\n\t\t\t\t\tcontext: 'view',\n\t\t\t\t},\n\t\t\t];\n\t\t\tconst terms = getEntityRecords( ...taxonomyArgs );\n\n\t\t\treturn {\n\t\t\t\tpostTerms: terms,\n\t\t\t\tisLoading: isResolving( 'getEntityRecords', taxonomyArgs ),\n\t\t\t\thasPostTerms: !! terms?.length,\n\t\t\t};\n\t\t},\n\t\t[ postId, term?.visibility?.publicly_queryable, slug ]\n\t);\n}\n"]}