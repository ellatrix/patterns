{"version":3,"sources":["@wordpress/block-library/src/cover/edit/block-controls.js"],"names":["useState","BlockControls","MediaReplaceFlow","__experimentalBlockAlignmentMatrixControl","BlockAlignmentMatrixControl","__experimentalBlockFullHeightAligmentControl","FullHeightAlignmentControl","__","ALLOWED_MEDIA_TYPES","CoverBlockControls","attributes","setAttributes","onSelectMedia","currentSettings","toggleUseFeaturedImage","contentPosition","id","useFeaturedImage","minHeight","minHeightUnit","hasInnerBlocks","url","prevMinHeightValue","setPrevMinHeightValue","prevMinHeightUnit","setPrevMinHeightUnit","isMinFullHeight","toggleMinFullHeight","undefined","nextPosition"],"mappings":";;AAAA;AACA;AACA;AACA,SAASA,QAAT,QAAyB,oBAAzB;AAEA,SACCC,aADD,EAECC,gBAFD,EAGCC,yCAAyC,IAAIC,2BAH9C,EAICC,4CAA4C,IAAIC,0BAJjD,QAKO,yBALP;AAMA,SAASC,EAAT,QAAmB,iBAAnB;AAEA;AACA;AACA;;AACA,SAASC,mBAAT,QAAoC,WAApC;AAEA,eAAe,SAASC,kBAAT,OAMX;AAAA,MANwC;AAC3CC,IAAAA,UAD2C;AAE3CC,IAAAA,aAF2C;AAG3CC,IAAAA,aAH2C;AAI3CC,IAAAA,eAJ2C;AAK3CC,IAAAA;AAL2C,GAMxC;AACH,QAAM;AAAEC,IAAAA,eAAF;AAAmBC,IAAAA,EAAnB;AAAuBC,IAAAA,gBAAvB;AAAyCC,IAAAA,SAAzC;AAAoDC,IAAAA;AAApD,MACLT,UADD;AAEA,QAAM;AAAEU,IAAAA,cAAF;AAAkBC,IAAAA;AAAlB,MAA0BR,eAAhC;AAEA,QAAM,CAAES,kBAAF,EAAsBC,qBAAtB,IAAgDvB,QAAQ,CAAEkB,SAAF,CAA9D;AACA,QAAM,CAAEM,iBAAF,EAAqBC,oBAArB,IACLzB,QAAQ,CAAEmB,aAAF,CADT;AAEA,QAAMO,eAAe,GAAGP,aAAa,KAAK,IAAlB,IAA0BD,SAAS,KAAK,GAAhE;;AACA,QAAMS,mBAAmB,GAAG,MAAM;AACjC,QAAKD,eAAL,EAAuB;AACtB;AACA,UAAKF,iBAAiB,KAAK,IAAtB,IAA8BF,kBAAkB,KAAK,GAA1D,EAAgE;AAC/D,eAAOX,aAAa,CAAE;AACrBO,UAAAA,SAAS,EAAEU,SADU;AAErBT,UAAAA,aAAa,EAAES;AAFM,SAAF,CAApB;AAIA,OAPqB,CAStB;;;AACA,aAAOjB,aAAa,CAAE;AACrBO,QAAAA,SAAS,EAAEI,kBADU;AAErBH,QAAAA,aAAa,EAAEK;AAFM,OAAF,CAApB;AAIA;;AAEDD,IAAAA,qBAAqB,CAAEL,SAAF,CAArB;AACAO,IAAAA,oBAAoB,CAAEN,aAAF,CAApB,CAlBiC,CAoBjC;;AACA,WAAOR,aAAa,CAAE;AACrBO,MAAAA,SAAS,EAAE,GADU;AAErBC,MAAAA,aAAa,EAAE;AAFM,KAAF,CAApB;AAIA,GAzBD;;AA2BA,SACC,8BACC,cAAC,aAAD;AAAe,IAAA,KAAK,EAAC;AAArB,KACC,cAAC,2BAAD;AACC,IAAA,KAAK,EAAGZ,EAAE,CAAE,yBAAF,CADX;AAEC,IAAA,KAAK,EAAGQ,eAFT;AAGC,IAAA,QAAQ,EAAKc,YAAF,IACVlB,aAAa,CAAE;AACdI,MAAAA,eAAe,EAAEc;AADH,KAAF,CAJf;AAQC,IAAA,UAAU,EAAG,CAAET;AARhB,IADD,EAWC,cAAC,0BAAD;AACC,IAAA,QAAQ,EAAGM,eADZ;AAEC,IAAA,QAAQ,EAAGC,mBAFZ;AAGC,IAAA,UAAU,EAAG,CAAEP;AAHhB,IAXD,CADD,EAkBC,cAAC,aAAD;AAAe,IAAA,KAAK,EAAC;AAArB,KACC,cAAC,gBAAD;AACC,IAAA,OAAO,EAAGJ,EADX;AAEC,IAAA,QAAQ,EAAGK,GAFZ;AAGC,IAAA,YAAY,EAAGb,mBAHhB;AAIC,IAAA,MAAM,EAAC,iBAJR;AAKC,IAAA,QAAQ,EAAGI,aALZ;AAMC,IAAA,qBAAqB,EAAGE,sBANzB;AAOC,IAAA,gBAAgB,EAAGG,gBAPpB;AAQC,IAAA,IAAI,EAAG,CAAEI,GAAF,GAAQd,EAAE,CAAE,WAAF,CAAV,GAA4BA,EAAE,CAAE,SAAF;AARtC,IADD,CAlBD,CADD;AAiCA","sourcesContent":["/**\n * WordPress dependencies\n */\nimport { useState } from '@wordpress/element';\n\nimport {\n\tBlockControls,\n\tMediaReplaceFlow,\n\t__experimentalBlockAlignmentMatrixControl as BlockAlignmentMatrixControl,\n\t__experimentalBlockFullHeightAligmentControl as FullHeightAlignmentControl,\n} from '@wordpress/block-editor';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport { ALLOWED_MEDIA_TYPES } from '../shared';\n\nexport default function CoverBlockControls( {\n\tattributes,\n\tsetAttributes,\n\tonSelectMedia,\n\tcurrentSettings,\n\ttoggleUseFeaturedImage,\n} ) {\n\tconst { contentPosition, id, useFeaturedImage, minHeight, minHeightUnit } =\n\t\tattributes;\n\tconst { hasInnerBlocks, url } = currentSettings;\n\n\tconst [ prevMinHeightValue, setPrevMinHeightValue ] = useState( minHeight );\n\tconst [ prevMinHeightUnit, setPrevMinHeightUnit ] =\n\t\tuseState( minHeightUnit );\n\tconst isMinFullHeight = minHeightUnit === 'vh' && minHeight === 100;\n\tconst toggleMinFullHeight = () => {\n\t\tif ( isMinFullHeight ) {\n\t\t\t// If there aren't previous values, take the default ones.\n\t\t\tif ( prevMinHeightUnit === 'vh' && prevMinHeightValue === 100 ) {\n\t\t\t\treturn setAttributes( {\n\t\t\t\t\tminHeight: undefined,\n\t\t\t\t\tminHeightUnit: undefined,\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\t// Set the previous values of height.\n\t\t\treturn setAttributes( {\n\t\t\t\tminHeight: prevMinHeightValue,\n\t\t\t\tminHeightUnit: prevMinHeightUnit,\n\t\t\t} );\n\t\t}\n\n\t\tsetPrevMinHeightValue( minHeight );\n\t\tsetPrevMinHeightUnit( minHeightUnit );\n\n\t\t// Set full height.\n\t\treturn setAttributes( {\n\t\t\tminHeight: 100,\n\t\t\tminHeightUnit: 'vh',\n\t\t} );\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<BlockControls group=\"block\">\n\t\t\t\t<BlockAlignmentMatrixControl\n\t\t\t\t\tlabel={ __( 'Change content position' ) }\n\t\t\t\t\tvalue={ contentPosition }\n\t\t\t\t\tonChange={ ( nextPosition ) =>\n\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\tcontentPosition: nextPosition,\n\t\t\t\t\t\t} )\n\t\t\t\t\t}\n\t\t\t\t\tisDisabled={ ! hasInnerBlocks }\n\t\t\t\t/>\n\t\t\t\t<FullHeightAlignmentControl\n\t\t\t\t\tisActive={ isMinFullHeight }\n\t\t\t\t\tonToggle={ toggleMinFullHeight }\n\t\t\t\t\tisDisabled={ ! hasInnerBlocks }\n\t\t\t\t/>\n\t\t\t</BlockControls>\n\t\t\t<BlockControls group=\"other\">\n\t\t\t\t<MediaReplaceFlow\n\t\t\t\t\tmediaId={ id }\n\t\t\t\t\tmediaURL={ url }\n\t\t\t\t\tallowedTypes={ ALLOWED_MEDIA_TYPES }\n\t\t\t\t\taccept=\"image/*,video/*\"\n\t\t\t\t\tonSelect={ onSelectMedia }\n\t\t\t\t\tonToggleFeaturedImage={ toggleUseFeaturedImage }\n\t\t\t\t\tuseFeaturedImage={ useFeaturedImage }\n\t\t\t\t\tname={ ! url ? __( 'Add Media' ) : __( 'Replace' ) }\n\t\t\t\t/>\n\t\t\t</BlockControls>\n\t\t</>\n\t);\n}\n"]}