{"version":3,"sources":["@wordpress/block-library/src/cover/save.js"],"names":["classnames","useInnerBlocksProps","getColorClassName","__experimentalGetGradientClass","useBlockProps","IMAGE_BACKGROUND_TYPE","VIDEO_BACKGROUND_TYPE","dimRatioToClass","isContentPositionCenter","getPositionClassName","mediaPosition","save","attributes","backgroundType","gradient","contentPosition","customGradient","customOverlayColor","dimRatio","focalPoint","useFeaturedImage","hasParallax","isDark","isRepeated","overlayColor","url","alt","id","minHeight","minHeightProp","minHeightUnit","tagName","Tag","overlayColorClass","gradientClass","isImageBackground","isVideoBackground","isImgElement","style","undefined","bgStyle","backgroundColor","background","objectPosition","backgroundImage","backgroundPosition","classes","imgClasses","gradientValue","className"],"mappings":"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","sourcesContent":["/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tuseInnerBlocksProps,\n\tgetColorClassName,\n\t__experimentalGetGradientClass,\n\tuseBlockProps,\n} from '@wordpress/block-editor';\n\n/**\n * Internal dependencies\n */\nimport {\n\tIMAGE_BACKGROUND_TYPE,\n\tVIDEO_BACKGROUND_TYPE,\n\tdimRatioToClass,\n\tisContentPositionCenter,\n\tgetPositionClassName,\n\tmediaPosition,\n} from './shared';\n\nexport default function save( { attributes } ) {\n\tconst {\n\t\tbackgroundType,\n\t\tgradient,\n\t\tcontentPosition,\n\t\tcustomGradient,\n\t\tcustomOverlayColor,\n\t\tdimRatio,\n\t\tfocalPoint,\n\t\tuseFeaturedImage,\n\t\thasParallax,\n\t\tisDark,\n\t\tisRepeated,\n\t\toverlayColor,\n\t\turl,\n\t\talt,\n\t\tid,\n\t\tminHeight: minHeightProp,\n\t\tminHeightUnit,\n\t\ttagName: Tag,\n\t} = attributes;\n\tconst overlayColorClass = getColorClassName(\n\t\t'background-color',\n\t\toverlayColor\n\t);\n\tconst gradientClass = __experimentalGetGradientClass( gradient );\n\tconst minHeight =\n\t\tminHeightProp && minHeightUnit\n\t\t\t? `${ minHeightProp }${ minHeightUnit }`\n\t\t\t: minHeightProp;\n\n\tconst isImageBackground = IMAGE_BACKGROUND_TYPE === backgroundType;\n\tconst isVideoBackground = VIDEO_BACKGROUND_TYPE === backgroundType;\n\n\tconst isImgElement = ! ( hasParallax || isRepeated );\n\n\tconst style = {\n\t\tminHeight: minHeight || undefined,\n\t};\n\n\tconst bgStyle = {\n\t\tbackgroundColor: ! overlayColorClass ? customOverlayColor : undefined,\n\t\tbackground: customGradient ? customGradient : undefined,\n\t};\n\n\tconst objectPosition =\n\t\t// prettier-ignore\n\t\tfocalPoint && isImgElement\n\t\t\t  ? mediaPosition(focalPoint)\n\t\t\t  : undefined;\n\n\tconst backgroundImage = url ? `url(${ url })` : undefined;\n\n\tconst backgroundPosition = mediaPosition( focalPoint );\n\n\tconst classes = classnames(\n\t\t{\n\t\t\t'is-light': ! isDark,\n\t\t\t'has-parallax': hasParallax,\n\t\t\t'is-repeated': isRepeated,\n\t\t\t'has-custom-content-position':\n\t\t\t\t! isContentPositionCenter( contentPosition ),\n\t\t},\n\t\tgetPositionClassName( contentPosition )\n\t);\n\n\tconst imgClasses = classnames(\n\t\t'wp-block-cover__image-background',\n\t\tid ? `wp-image-${ id }` : null,\n\t\t{\n\t\t\t'has-parallax': hasParallax,\n\t\t\t'is-repeated': isRepeated,\n\t\t}\n\t);\n\n\tconst gradientValue = gradient || customGradient;\n\n\treturn (\n\t\t<Tag { ...useBlockProps.save( { className: classes, style } ) }>\n\t\t\t<span\n\t\t\t\taria-hidden=\"true\"\n\t\t\t\tclassName={ classnames(\n\t\t\t\t\t'wp-block-cover__background',\n\t\t\t\t\toverlayColorClass,\n\t\t\t\t\tdimRatioToClass( dimRatio ),\n\t\t\t\t\t{\n\t\t\t\t\t\t'has-background-dim': dimRatio !== undefined,\n\t\t\t\t\t\t// For backwards compatibility. Former versions of the Cover Block applied\n\t\t\t\t\t\t// `.wp-block-cover__gradient-background` in the presence of\n\t\t\t\t\t\t// media, a gradient and a dim.\n\t\t\t\t\t\t'wp-block-cover__gradient-background':\n\t\t\t\t\t\t\turl && gradientValue && dimRatio !== 0,\n\t\t\t\t\t\t'has-background-gradient': gradientValue,\n\t\t\t\t\t\t[ gradientClass ]: gradientClass,\n\t\t\t\t\t}\n\t\t\t\t) }\n\t\t\t\tstyle={ bgStyle }\n\t\t\t/>\n\n\t\t\t{ ! useFeaturedImage &&\n\t\t\t\tisImageBackground &&\n\t\t\t\turl &&\n\t\t\t\t( isImgElement ? (\n\t\t\t\t\t<img\n\t\t\t\t\t\tclassName={ imgClasses }\n\t\t\t\t\t\talt={ alt }\n\t\t\t\t\t\tsrc={ url }\n\t\t\t\t\t\tstyle={ { objectPosition } }\n\t\t\t\t\t\tdata-object-fit=\"cover\"\n\t\t\t\t\t\tdata-object-position={ objectPosition }\n\t\t\t\t\t/>\n\t\t\t\t) : (\n\t\t\t\t\t<div\n\t\t\t\t\t\trole=\"img\"\n\t\t\t\t\t\tclassName={ imgClasses }\n\t\t\t\t\t\tstyle={ { backgroundPosition, backgroundImage } }\n\t\t\t\t\t/>\n\t\t\t\t) ) }\n\t\t\t{ isVideoBackground && url && (\n\t\t\t\t<video\n\t\t\t\t\tclassName={ classnames(\n\t\t\t\t\t\t'wp-block-cover__video-background',\n\t\t\t\t\t\t'intrinsic-ignore'\n\t\t\t\t\t) }\n\t\t\t\t\tautoPlay\n\t\t\t\t\tmuted\n\t\t\t\t\tloop\n\t\t\t\t\tplaysInline\n\t\t\t\t\tsrc={ url }\n\t\t\t\t\tstyle={ { objectPosition } }\n\t\t\t\t\tdata-object-fit=\"cover\"\n\t\t\t\t\tdata-object-position={ objectPosition }\n\t\t\t\t/>\n\t\t\t) }\n\t\t\t<div\n\t\t\t\t{ ...useInnerBlocksProps.save( {\n\t\t\t\t\tclassName: 'wp-block-cover__inner-container',\n\t\t\t\t} ) }\n\t\t\t/>\n\t\t</Tag>\n\t);\n}\n"]}