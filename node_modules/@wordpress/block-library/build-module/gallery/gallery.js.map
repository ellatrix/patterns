{"version":3,"sources":["@wordpress/block-library/src/gallery/gallery.js"],"names":["classnames","RichText","__experimentalGetElementClassName","__","createBlock","getDefaultBlockName","View","forwardRef","Gallery","props","captionRef","attributes","isSelected","setAttributes","mediaPlaceholder","insertBlocksAfter","blockProps","__unstableLayoutClassNames","layoutClassNames","showCaption","align","columns","caption","imageCrop","className","undefined","children","isEmpty","value"],"mappings":";;;AAAA;AACA;AACA;AACA,OAAOA,UAAP,MAAuB,YAAvB;AAEA;AACA;AACA;;AACA,SACCC,QADD,EAECC,iCAFD,QAGO,yBAHP;AAIA,SAASC,EAAT,QAAmB,iBAAnB;AACA,SAASC,WAAT,EAAsBC,mBAAtB,QAAiD,mBAAjD;AACA,SAASC,IAAT,QAAqB,uBAArB;AACA,SAASC,UAAT,QAA2B,oBAA3B;AAEA,OAAO,MAAMC,OAAO,GAAG,CAAEC,KAAF,EAASC,UAAT,KAAyB;AAC/C,QAAM;AACLC,IAAAA,UADK;AAELC,IAAAA,UAFK;AAGLC,IAAAA,aAHK;AAILC,IAAAA,gBAJK;AAKLC,IAAAA,iBALK;AAMLC,IAAAA,UANK;AAOLC,IAAAA,0BAA0B,EAAEC,gBAPvB;AAQLC,IAAAA;AARK,MASFV,KATJ;AAWA,QAAM;AAAEW,IAAAA,KAAF;AAASC,IAAAA,OAAT;AAAkBC,IAAAA,OAAlB;AAA2BC,IAAAA;AAA3B,MAAyCZ,UAA/C;AAEA,SACC,qCACMK,UADN;AAEC,IAAA,SAAS,EAAGhB,UAAU,CACrBgB,UAAU,CAACQ,SADU,EAErBN,gBAFqB,EAGrB,qBAHqB,EAIrB;AACC,OAAG,QAAQE,KAAO,EAAlB,GAAuBA,KADxB;AAEC,OAAG,WAAWC,OAAS,EAAvB,GAA4BA,OAAO,KAAKI,SAFzC;AAGC,OAAG,iBAAH,GAAuBJ,OAAO,KAAKI,SAHpC;AAIC,oBAAcF;AAJf,KAJqB;AAFvB,MAcGP,UAAU,CAACU,QAdd,EAeGd,UAAU,IAAI,CAAEI,UAAU,CAACU,QAA3B,IACD,cAAC,IAAD;AAAM,IAAA,SAAS,EAAC;AAAhB,KACGZ,gBADH,CAhBF,EAoBGK,WAAW,KACV,CAAElB,QAAQ,CAAC0B,OAAT,CAAkBL,OAAlB,CAAF,IAAiCV,UADvB,CAAX,IAEA,cAAC,QAAD;AACC,IAAA,UAAU,EAAC,SADZ;AAEC,kBAAaT,EAAE,CAAE,sBAAF,CAFhB;AAGC,IAAA,WAAW,EAAGA,EAAE,CAAE,wBAAF,CAHjB;AAIC,IAAA,KAAK,EAAGmB,OAJT;AAKC,IAAA,SAAS,EAAGtB,UAAU,CACrB,wBADqB,EAErBE,iCAAiC,CAAE,SAAF,CAFZ,CALvB;AASC,IAAA,GAAG,EAAGQ,UATP;AAUC,IAAA,OAAO,EAAC,YAVT;AAWC,IAAA,QAAQ,EAAKkB,KAAF,IACVf,aAAa,CAAE;AAAES,MAAAA,OAAO,EAAEM;AAAX,KAAF,CAZf;AAcC,IAAA,aAAa,MAdd;AAeC,IAAA,sBAAsB,EAAG,MACxBb,iBAAiB,CAChBX,WAAW,CAAEC,mBAAmB,EAArB,CADK;AAhBnB,IAtBH,CADD;AA+CA,CA7DM;AA+DP,eAAeE,UAAU,CAAEC,OAAF,CAAzB","sourcesContent":["/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tRichText,\n\t__experimentalGetElementClassName,\n} from '@wordpress/block-editor';\nimport { __ } from '@wordpress/i18n';\nimport { createBlock, getDefaultBlockName } from '@wordpress/blocks';\nimport { View } from '@wordpress/primitives';\nimport { forwardRef } from '@wordpress/element';\n\nexport const Gallery = ( props, captionRef ) => {\n\tconst {\n\t\tattributes,\n\t\tisSelected,\n\t\tsetAttributes,\n\t\tmediaPlaceholder,\n\t\tinsertBlocksAfter,\n\t\tblockProps,\n\t\t__unstableLayoutClassNames: layoutClassNames,\n\t\tshowCaption,\n\t} = props;\n\n\tconst { align, columns, caption, imageCrop } = attributes;\n\n\treturn (\n\t\t<figure\n\t\t\t{ ...blockProps }\n\t\t\tclassName={ classnames(\n\t\t\t\tblockProps.className,\n\t\t\t\tlayoutClassNames,\n\t\t\t\t'blocks-gallery-grid',\n\t\t\t\t{\n\t\t\t\t\t[ `align${ align }` ]: align,\n\t\t\t\t\t[ `columns-${ columns }` ]: columns !== undefined,\n\t\t\t\t\t[ `columns-default` ]: columns === undefined,\n\t\t\t\t\t'is-cropped': imageCrop,\n\t\t\t\t}\n\t\t\t) }\n\t\t>\n\t\t\t{ blockProps.children }\n\t\t\t{ isSelected && ! blockProps.children && (\n\t\t\t\t<View className=\"blocks-gallery-media-placeholder-wrapper\">\n\t\t\t\t\t{ mediaPlaceholder }\n\t\t\t\t</View>\n\t\t\t) }\n\t\t\t{ showCaption &&\n\t\t\t\t( ! RichText.isEmpty( caption ) || isSelected ) && (\n\t\t\t\t\t<RichText\n\t\t\t\t\t\tidentifier=\"caption\"\n\t\t\t\t\t\taria-label={ __( 'Gallery caption text' ) }\n\t\t\t\t\t\tplaceholder={ __( 'Write gallery captionâ€¦' ) }\n\t\t\t\t\t\tvalue={ caption }\n\t\t\t\t\t\tclassName={ classnames(\n\t\t\t\t\t\t\t'blocks-gallery-caption',\n\t\t\t\t\t\t\t__experimentalGetElementClassName( 'caption' )\n\t\t\t\t\t\t) }\n\t\t\t\t\t\tref={ captionRef }\n\t\t\t\t\t\ttagName=\"figcaption\"\n\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\tsetAttributes( { caption: value } )\n\t\t\t\t\t\t}\n\t\t\t\t\t\tinlineToolbar\n\t\t\t\t\t\t__unstableOnSplitAtEnd={ () =>\n\t\t\t\t\t\t\tinsertBlocksAfter(\n\t\t\t\t\t\t\t\tcreateBlock( getDefaultBlockName() )\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t</figure>\n\t);\n};\n\nexport default forwardRef( Gallery );\n"]}