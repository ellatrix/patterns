{"version":3,"sources":["@wordpress/block-library/src/gallery/v1/save.js"],"names":["classnames","RichText","useBlockProps","__experimentalGetElementClassName","defaultColumnsNumberV1","LINK_DESTINATION_ATTACHMENT","LINK_DESTINATION_MEDIA","saveV1","attributes","images","columns","imageCrop","caption","linkTo","className","save","map","image","href","fullUrl","url","link","img","alt","id","isEmpty"],"mappings":";;AAAA;AACA;AACA;AACA,OAAOA,UAAP,MAAuB,YAAvB;AAEA;AACA;AACA;;AACA,SACCC,QADD,EAECC,aAFD,EAGCC,iCAHD,QAIO,yBAJP;AAMA;AACA;AACA;;AACA,SAASC,sBAAT,QAAuC,eAAvC;AACA,SACCC,2BADD,EAECC,sBAFD,QAGO,aAHP;AAKA,eAAe,SAASC,MAAT,OAAkC;AAAA,MAAjB;AAAEC,IAAAA;AAAF,GAAiB;AAChD,QAAM;AACLC,IAAAA,MADK;AAELC,IAAAA,OAAO,GAAGN,sBAAsB,CAAEI,UAAF,CAF3B;AAGLG,IAAAA,SAHK;AAILC,IAAAA,OAJK;AAKLC,IAAAA;AALK,MAMFL,UANJ;AAOA,QAAMM,SAAS,GAAI,WAAWJ,OAAS,IAAIC,SAAS,GAAG,YAAH,GAAkB,EAAI,EAA1E;AAEA,SACC,wBAAaT,aAAa,CAACa,IAAd,CAAoB;AAAED,IAAAA;AAAF,GAApB,CAAb,EACC;AAAI,IAAA,SAAS,EAAC;AAAd,KACGL,MAAM,CAACO,GAAP,CAAcC,KAAF,IAAa;AAC1B,QAAIC,IAAJ;;AAEA,YAASL,MAAT;AACC,WAAKP,sBAAL;AACCY,QAAAA,IAAI,GAAGD,KAAK,CAACE,OAAN,IAAiBF,KAAK,CAACG,GAA9B;AACA;;AACD,WAAKf,2BAAL;AACCa,QAAAA,IAAI,GAAGD,KAAK,CAACI,IAAb;AACA;AANF;;AASA,UAAMC,GAAG,GACR;AACC,MAAA,GAAG,EAAGL,KAAK,CAACG,GADb;AAEC,MAAA,GAAG,EAAGH,KAAK,CAACM,GAFb;AAGC,iBAAUN,KAAK,CAACO,EAHjB;AAIC,uBAAgBP,KAAK,CAACE,OAJvB;AAKC,mBAAYF,KAAK,CAACI,IALnB;AAMC,MAAA,SAAS,EACRJ,KAAK,CAACO,EAAN,GAAY,YAAYP,KAAK,CAACO,EAAI,EAAlC,GAAsC;AAPxC,MADD;AAaA,WACC;AACC,MAAA,GAAG,EAAGP,KAAK,CAACO,EAAN,IAAYP,KAAK,CAACG,GADzB;AAEC,MAAA,SAAS,EAAC;AAFX,OAIC,8BACGF,IAAI,GAAG;AAAG,MAAA,IAAI,EAAGA;AAAV,OAAmBI,GAAnB,CAAH,GAAkCA,GADzC,EAEG,CAAErB,QAAQ,CAACwB,OAAT,CAAkBR,KAAK,CAACL,OAAxB,CAAF,IACD,cAAC,QAAD,CAAU,OAAV;AACC,MAAA,OAAO,EAAC,YADT;AAEC,MAAA,SAAS,EAAGZ,UAAU,CACrB,qBADqB,EAErBG,iCAAiC,CAChC,SADgC,CAFZ,CAFvB;AAQC,MAAA,KAAK,EAAGc,KAAK,CAACL;AARf,MAHF,CAJD,CADD;AAsBA,GA/CC,CADH,CADD,EAmDG,CAAEX,QAAQ,CAACwB,OAAT,CAAkBb,OAAlB,CAAF,IACD,cAAC,QAAD,CAAU,OAAV;AACC,IAAA,OAAO,EAAC,YADT;AAEC,IAAA,SAAS,EAAGZ,UAAU,CACrB,wBADqB,EAErBG,iCAAiC,CAAE,SAAF,CAFZ,CAFvB;AAMC,IAAA,KAAK,EAAGS;AANT,IApDF,CADD;AAgEA","sourcesContent":["/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tRichText,\n\tuseBlockProps,\n\t__experimentalGetElementClassName,\n} from '@wordpress/block-editor';\n\n/**\n * Internal dependencies\n */\nimport { defaultColumnsNumberV1 } from '../deprecated';\nimport {\n\tLINK_DESTINATION_ATTACHMENT,\n\tLINK_DESTINATION_MEDIA,\n} from './constants';\n\nexport default function saveV1( { attributes } ) {\n\tconst {\n\t\timages,\n\t\tcolumns = defaultColumnsNumberV1( attributes ),\n\t\timageCrop,\n\t\tcaption,\n\t\tlinkTo,\n\t} = attributes;\n\tconst className = `columns-${ columns } ${ imageCrop ? 'is-cropped' : '' }`;\n\n\treturn (\n\t\t<figure { ...useBlockProps.save( { className } ) }>\n\t\t\t<ul className=\"blocks-gallery-grid\">\n\t\t\t\t{ images.map( ( image ) => {\n\t\t\t\t\tlet href;\n\n\t\t\t\t\tswitch ( linkTo ) {\n\t\t\t\t\t\tcase LINK_DESTINATION_MEDIA:\n\t\t\t\t\t\t\thref = image.fullUrl || image.url;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase LINK_DESTINATION_ATTACHMENT:\n\t\t\t\t\t\t\thref = image.link;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tconst img = (\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tsrc={ image.url }\n\t\t\t\t\t\t\talt={ image.alt }\n\t\t\t\t\t\t\tdata-id={ image.id }\n\t\t\t\t\t\t\tdata-full-url={ image.fullUrl }\n\t\t\t\t\t\t\tdata-link={ image.link }\n\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\timage.id ? `wp-image-${ image.id }` : null\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t);\n\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<li\n\t\t\t\t\t\t\tkey={ image.id || image.url }\n\t\t\t\t\t\t\tclassName=\"blocks-gallery-item\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<figure>\n\t\t\t\t\t\t\t\t{ href ? <a href={ href }>{ img }</a> : img }\n\t\t\t\t\t\t\t\t{ ! RichText.isEmpty( image.caption ) && (\n\t\t\t\t\t\t\t\t\t<RichText.Content\n\t\t\t\t\t\t\t\t\t\ttagName=\"figcaption\"\n\t\t\t\t\t\t\t\t\t\tclassName={ classnames(\n\t\t\t\t\t\t\t\t\t\t\t'blocks-gallery-item',\n\t\t\t\t\t\t\t\t\t\t\t__experimentalGetElementClassName(\n\t\t\t\t\t\t\t\t\t\t\t\t'caption'\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\tvalue={ image.caption }\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</figure>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t);\n\t\t\t\t} ) }\n\t\t\t</ul>\n\t\t\t{ ! RichText.isEmpty( caption ) && (\n\t\t\t\t<RichText.Content\n\t\t\t\t\ttagName=\"figcaption\"\n\t\t\t\t\tclassName={ classnames(\n\t\t\t\t\t\t'blocks-gallery-caption',\n\t\t\t\t\t\t__experimentalGetElementClassName( 'caption' )\n\t\t\t\t\t) }\n\t\t\t\t\tvalue={ caption }\n\t\t\t\t/>\n\t\t\t) }\n\t\t</figure>\n\t);\n}\n"]}