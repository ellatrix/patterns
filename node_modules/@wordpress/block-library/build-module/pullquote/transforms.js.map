{"version":3,"sources":["@wordpress/block-library/src/pullquote/transforms.js"],"names":["createBlock","create","join","toHTMLString","transforms","from","type","isMultiBlock","blocks","transform","attributes","value","map","content","html","anchor","to","citation","paragraphs","push","length","headingBlock"],"mappings":"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","sourcesContent":["/**\n * WordPress dependencies\n */\nimport { createBlock } from '@wordpress/blocks';\nimport { create, join, toHTMLString } from '@wordpress/rich-text';\n\nconst transforms = {\n\tfrom: [\n\t\t{\n\t\t\ttype: 'block',\n\t\t\tisMultiBlock: true,\n\t\t\tblocks: [ 'core/paragraph' ],\n\t\t\ttransform: ( attributes ) => {\n\t\t\t\treturn createBlock( 'core/pullquote', {\n\t\t\t\t\tvalue: toHTMLString( {\n\t\t\t\t\t\tvalue: join(\n\t\t\t\t\t\t\tattributes.map( ( { content } ) =>\n\t\t\t\t\t\t\t\tcreate( { html: content } )\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t'\\n'\n\t\t\t\t\t\t),\n\t\t\t\t\t} ),\n\t\t\t\t\tanchor: attributes.anchor,\n\t\t\t\t} );\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\ttype: 'block',\n\t\t\tblocks: [ 'core/heading' ],\n\t\t\ttransform: ( { content, anchor } ) => {\n\t\t\t\treturn createBlock( 'core/pullquote', {\n\t\t\t\t\tvalue: content,\n\t\t\t\t\tanchor,\n\t\t\t\t} );\n\t\t\t},\n\t\t},\n\t],\n\tto: [\n\t\t{\n\t\t\ttype: 'block',\n\t\t\tblocks: [ 'core/paragraph' ],\n\t\t\ttransform: ( { value, citation } ) => {\n\t\t\t\tconst paragraphs = [];\n\t\t\t\tif ( value ) {\n\t\t\t\t\tparagraphs.push(\n\t\t\t\t\t\tcreateBlock( 'core/paragraph', {\n\t\t\t\t\t\t\tcontent: value,\n\t\t\t\t\t\t} )\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\tif ( citation ) {\n\t\t\t\t\tparagraphs.push(\n\t\t\t\t\t\tcreateBlock( 'core/paragraph', {\n\t\t\t\t\t\t\tcontent: citation,\n\t\t\t\t\t\t} )\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\tif ( paragraphs.length === 0 ) {\n\t\t\t\t\treturn createBlock( 'core/paragraph', {\n\t\t\t\t\t\tcontent: '',\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t\treturn paragraphs;\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\ttype: 'block',\n\t\t\tblocks: [ 'core/heading' ],\n\t\t\ttransform: ( { value, citation } ) => {\n\t\t\t\t// If there is no pullquote content, use the citation as the\n\t\t\t\t// content of the resulting heading. A nonexistent citation\n\t\t\t\t// will result in an empty heading.\n\t\t\t\tif ( ! value ) {\n\t\t\t\t\treturn createBlock( 'core/heading', {\n\t\t\t\t\t\tcontent: citation,\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t\tconst headingBlock = createBlock( 'core/heading', {\n\t\t\t\t\tcontent: value,\n\t\t\t\t} );\n\t\t\t\tif ( ! citation ) {\n\t\t\t\t\treturn headingBlock;\n\t\t\t\t}\n\t\t\t\treturn [\n\t\t\t\t\theadingBlock,\n\t\t\t\t\tcreateBlock( 'core/heading', {\n\t\t\t\t\t\tcontent: citation,\n\t\t\t\t\t} ),\n\t\t\t\t];\n\t\t\t},\n\t\t},\n\t],\n};\n\nexport default transforms;\n"]}