{"version":3,"sources":["@wordpress/block-library/src/post-terms/use-post-terms.js"],"names":["usePostTerms","postId","term","slug","select","visible","visibility","publicly_queryable","postTerms","_isLoading","hasPostTerms","getEntityRecords","isResolving","coreStore","taxonomyArgs","post","per_page","context","terms","isLoading","length"],"mappings":";;;;;;;AAGA;;AACA;;AAJA;AACA;AACA;AAIe,SAASA,YAAT,OAA0C;AAAA;;AAAA,MAAnB;AAAEC,IAAAA,MAAF;AAAUC,IAAAA;AAAV,GAAmB;AACxD,QAAM;AAAEC,IAAAA;AAAF,MAAWD,IAAjB;AAEA,SAAO,qBACJE,MAAF,IAAc;AAAA;;AACb,UAAMC,OAAO,GAAGH,IAAH,aAAGA,IAAH,2CAAGA,IAAI,CAAEI,UAAT,qDAAG,iBAAkBC,kBAAlC;;AACA,QAAK,CAAEF,OAAP,EAAiB;AAChB,aAAO;AACNG,QAAAA,SAAS,EAAE,EADL;AAENC,QAAAA,UAAU,EAAE,KAFN;AAGNC,QAAAA,YAAY,EAAE;AAHR,OAAP;AAKA;;AAED,UAAM;AAAEC,MAAAA,gBAAF;AAAoBC,MAAAA;AAApB,QAAoCR,MAAM,CAAES,eAAF,CAAhD;AACA,UAAMC,YAAY,GAAG,CACpB,UADoB,EAEpBX,IAFoB,EAGpB;AACCY,MAAAA,IAAI,EAAEd,MADP;AAECe,MAAAA,QAAQ,EAAE,CAAC,CAFZ;AAGCC,MAAAA,OAAO,EAAE;AAHV,KAHoB,CAArB;AASA,UAAMC,KAAK,GAAGP,gBAAgB,CAAE,GAAGG,YAAL,CAA9B;AAEA,WAAO;AACNN,MAAAA,SAAS,EAAEU,KADL;AAENC,MAAAA,SAAS,EAAEP,WAAW,CAAE,kBAAF,EAAsBE,YAAtB,CAFhB;AAGNJ,MAAAA,YAAY,EAAE,CAAC,EAAEQ,KAAF,aAAEA,KAAF,eAAEA,KAAK,CAAEE,MAAT;AAHT,KAAP;AAKA,GA5BK,EA6BN,CAAEnB,MAAF,EAAUC,IAAV,aAAUA,IAAV,4CAAUA,IAAI,CAAEI,UAAhB,sDAAU,kBAAkBC,kBAA5B,EAAgDJ,IAAhD,CA7BM,CAAP;AA+BA","sourcesContent":["/**\n * WordPress dependencies\n */\nimport { store as coreStore } from '@wordpress/core-data';\nimport { useSelect } from '@wordpress/data';\n\nexport default function usePostTerms( { postId, term } ) {\n\tconst { slug } = term;\n\n\treturn useSelect(\n\t\t( select ) => {\n\t\t\tconst visible = term?.visibility?.publicly_queryable;\n\t\t\tif ( ! visible ) {\n\t\t\t\treturn {\n\t\t\t\t\tpostTerms: [],\n\t\t\t\t\t_isLoading: false,\n\t\t\t\t\thasPostTerms: false,\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tconst { getEntityRecords, isResolving } = select( coreStore );\n\t\t\tconst taxonomyArgs = [\n\t\t\t\t'taxonomy',\n\t\t\t\tslug,\n\t\t\t\t{\n\t\t\t\t\tpost: postId,\n\t\t\t\t\tper_page: -1,\n\t\t\t\t\tcontext: 'view',\n\t\t\t\t},\n\t\t\t];\n\t\t\tconst terms = getEntityRecords( ...taxonomyArgs );\n\n\t\t\treturn {\n\t\t\t\tpostTerms: terms,\n\t\t\t\tisLoading: isResolving( 'getEntityRecords', taxonomyArgs ),\n\t\t\t\thasPostTerms: !! terms?.length,\n\t\t\t};\n\t\t},\n\t\t[ postId, term?.visibility?.publicly_queryable, slug ]\n\t);\n}\n"]}