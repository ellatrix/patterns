{"version":3,"sources":["@wordpress/block-library/src/pullquote/transforms.js"],"names":["transforms","from","type","isMultiBlock","blocks","transform","attributes","value","map","content","html","anchor","to","citation","paragraphs","push","length","headingBlock"],"mappings":";;;;;;;AAGA;;AACA;;AAJA;AACA;AACA;AAIA,MAAMA,UAAU,GAAG;AAClBC,EAAAA,IAAI,EAAE,CACL;AACCC,IAAAA,IAAI,EAAE,OADP;AAECC,IAAAA,YAAY,EAAE,IAFf;AAGCC,IAAAA,MAAM,EAAE,CAAE,gBAAF,CAHT;AAICC,IAAAA,SAAS,EAAIC,UAAF,IAAkB;AAC5B,aAAO,yBAAa,gBAAb,EAA+B;AACrCC,QAAAA,KAAK,EAAE,4BAAc;AACpBA,UAAAA,KAAK,EAAE,oBACND,UAAU,CAACE,GAAX,CAAgB;AAAA,gBAAE;AAAEC,cAAAA;AAAF,aAAF;AAAA,mBACf,sBAAQ;AAAEC,cAAAA,IAAI,EAAED;AAAR,aAAR,CADe;AAAA,WAAhB,CADM,EAIN,IAJM;AADa,SAAd,CAD8B;AASrCE,QAAAA,MAAM,EAAEL,UAAU,CAACK;AATkB,OAA/B,CAAP;AAWA;AAhBF,GADK,EAmBL;AACCT,IAAAA,IAAI,EAAE,OADP;AAECE,IAAAA,MAAM,EAAE,CAAE,cAAF,CAFT;AAGCC,IAAAA,SAAS,EAAE,SAA2B;AAAA,UAAzB;AAAEI,QAAAA,OAAF;AAAWE,QAAAA;AAAX,OAAyB;AACrC,aAAO,yBAAa,gBAAb,EAA+B;AACrCJ,QAAAA,KAAK,EAAEE,OAD8B;AAErCE,QAAAA;AAFqC,OAA/B,CAAP;AAIA;AARF,GAnBK,CADY;AA+BlBC,EAAAA,EAAE,EAAE,CACH;AACCV,IAAAA,IAAI,EAAE,OADP;AAECE,IAAAA,MAAM,EAAE,CAAE,gBAAF,CAFT;AAGCC,IAAAA,SAAS,EAAE,SAA2B;AAAA,UAAzB;AAAEE,QAAAA,KAAF;AAASM,QAAAA;AAAT,OAAyB;AACrC,YAAMC,UAAU,GAAG,EAAnB;;AACA,UAAKP,KAAL,EAAa;AACZO,QAAAA,UAAU,CAACC,IAAX,CACC,yBAAa,gBAAb,EAA+B;AAC9BN,UAAAA,OAAO,EAAEF;AADqB,SAA/B,CADD;AAKA;;AACD,UAAKM,QAAL,EAAgB;AACfC,QAAAA,UAAU,CAACC,IAAX,CACC,yBAAa,gBAAb,EAA+B;AAC9BN,UAAAA,OAAO,EAAEI;AADqB,SAA/B,CADD;AAKA;;AACD,UAAKC,UAAU,CAACE,MAAX,KAAsB,CAA3B,EAA+B;AAC9B,eAAO,yBAAa,gBAAb,EAA+B;AACrCP,UAAAA,OAAO,EAAE;AAD4B,SAA/B,CAAP;AAGA;;AACD,aAAOK,UAAP;AACA;AAzBF,GADG,EA4BH;AACCZ,IAAAA,IAAI,EAAE,OADP;AAECE,IAAAA,MAAM,EAAE,CAAE,cAAF,CAFT;AAGCC,IAAAA,SAAS,EAAE,SAA2B;AAAA,UAAzB;AAAEE,QAAAA,KAAF;AAASM,QAAAA;AAAT,OAAyB;;AACrC;AACA;AACA;AACA,UAAK,CAAEN,KAAP,EAAe;AACd,eAAO,yBAAa,cAAb,EAA6B;AACnCE,UAAAA,OAAO,EAAEI;AAD0B,SAA7B,CAAP;AAGA;;AACD,YAAMI,YAAY,GAAG,yBAAa,cAAb,EAA6B;AACjDR,QAAAA,OAAO,EAAEF;AADwC,OAA7B,CAArB;;AAGA,UAAK,CAAEM,QAAP,EAAkB;AACjB,eAAOI,YAAP;AACA;;AACD,aAAO,CACNA,YADM,EAEN,yBAAa,cAAb,EAA6B;AAC5BR,QAAAA,OAAO,EAAEI;AADmB,OAA7B,CAFM,CAAP;AAMA;AAxBF,GA5BG;AA/Bc,CAAnB;eAwFeb,U","sourcesContent":["/**\n * WordPress dependencies\n */\nimport { createBlock } from '@wordpress/blocks';\nimport { create, join, toHTMLString } from '@wordpress/rich-text';\n\nconst transforms = {\n\tfrom: [\n\t\t{\n\t\t\ttype: 'block',\n\t\t\tisMultiBlock: true,\n\t\t\tblocks: [ 'core/paragraph' ],\n\t\t\ttransform: ( attributes ) => {\n\t\t\t\treturn createBlock( 'core/pullquote', {\n\t\t\t\t\tvalue: toHTMLString( {\n\t\t\t\t\t\tvalue: join(\n\t\t\t\t\t\t\tattributes.map( ( { content } ) =>\n\t\t\t\t\t\t\t\tcreate( { html: content } )\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t'\\n'\n\t\t\t\t\t\t),\n\t\t\t\t\t} ),\n\t\t\t\t\tanchor: attributes.anchor,\n\t\t\t\t} );\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\ttype: 'block',\n\t\t\tblocks: [ 'core/heading' ],\n\t\t\ttransform: ( { content, anchor } ) => {\n\t\t\t\treturn createBlock( 'core/pullquote', {\n\t\t\t\t\tvalue: content,\n\t\t\t\t\tanchor,\n\t\t\t\t} );\n\t\t\t},\n\t\t},\n\t],\n\tto: [\n\t\t{\n\t\t\ttype: 'block',\n\t\t\tblocks: [ 'core/paragraph' ],\n\t\t\ttransform: ( { value, citation } ) => {\n\t\t\t\tconst paragraphs = [];\n\t\t\t\tif ( value ) {\n\t\t\t\t\tparagraphs.push(\n\t\t\t\t\t\tcreateBlock( 'core/paragraph', {\n\t\t\t\t\t\t\tcontent: value,\n\t\t\t\t\t\t} )\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\tif ( citation ) {\n\t\t\t\t\tparagraphs.push(\n\t\t\t\t\t\tcreateBlock( 'core/paragraph', {\n\t\t\t\t\t\t\tcontent: citation,\n\t\t\t\t\t\t} )\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\tif ( paragraphs.length === 0 ) {\n\t\t\t\t\treturn createBlock( 'core/paragraph', {\n\t\t\t\t\t\tcontent: '',\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t\treturn paragraphs;\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\ttype: 'block',\n\t\t\tblocks: [ 'core/heading' ],\n\t\t\ttransform: ( { value, citation } ) => {\n\t\t\t\t// If there is no pullquote content, use the citation as the\n\t\t\t\t// content of the resulting heading. A nonexistent citation\n\t\t\t\t// will result in an empty heading.\n\t\t\t\tif ( ! value ) {\n\t\t\t\t\treturn createBlock( 'core/heading', {\n\t\t\t\t\t\tcontent: citation,\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t\tconst headingBlock = createBlock( 'core/heading', {\n\t\t\t\t\tcontent: value,\n\t\t\t\t} );\n\t\t\t\tif ( ! citation ) {\n\t\t\t\t\treturn headingBlock;\n\t\t\t\t}\n\t\t\t\treturn [\n\t\t\t\t\theadingBlock,\n\t\t\t\t\tcreateBlock( 'core/heading', {\n\t\t\t\t\t\tcontent: citation,\n\t\t\t\t\t} ),\n\t\t\t\t];\n\t\t\t},\n\t\t},\n\t],\n};\n\nexport default transforms;\n"]}