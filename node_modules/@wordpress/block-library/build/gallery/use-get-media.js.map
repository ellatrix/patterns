{"version":3,"sources":["@wordpress/block-library/src/gallery/use-get-media.js"],"names":["EMPTY_IMAGE_MEDIA","useGetMedia","innerBlockImages","select","imageIds","map","imageBlock","attributes","id","filter","undefined","length","coreStore","getMediaItems","include","join","per_page","orderby"],"mappings":";;;;;;;AAGA;;AACA;;AAJA;AACA;AACA;AAIA,MAAMA,iBAAiB,GAAG,EAA1B;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACe,SAASC,WAAT,CAAsBC,gBAAtB,EAAyC;AACvD,SAAO,qBACJC,MAAF,IAAc;AAAA;;AACb,UAAMC,QAAQ,GAAGF,gBAAgB,CAC/BG,GADe,CACRC,UAAF,IAAkBA,UAAU,CAACC,UAAX,CAAsBC,EAD9B,EAEfC,MAFe,CAELD,EAAF,IAAUA,EAAE,KAAKE,SAFV,CAAjB;;AAIA,QAAKN,QAAQ,CAACO,MAAT,KAAoB,CAAzB,EAA6B;AAC5B,aAAOX,iBAAP;AACA;;AAED,oCACCG,MAAM,CAAES,eAAF,CAAN,CAAoBC,aAApB,CAAmC;AAClCC,MAAAA,OAAO,EAAEV,QAAQ,CAACW,IAAT,CAAe,GAAf,CADyB;AAElCC,MAAAA,QAAQ,EAAE,CAAC,CAFuB;AAGlCC,MAAAA,OAAO,EAAE;AAHyB,KAAnC,CADD,yEAKQjB,iBALR;AAOA,GAjBK,EAkBN,CAAEE,gBAAF,CAlBM,CAAP;AAoBA","sourcesContent":["/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\n\nconst EMPTY_IMAGE_MEDIA = [];\n\n/**\n * Retrieves the extended media info for each gallery image from the store. This is used to\n * determine which image size options are available for the current gallery.\n *\n * @param {Array} innerBlockImages An array of the innerBlock images currently in the gallery.\n *\n * @return {Array} An array of media info options for each gallery image.\n */\nexport default function useGetMedia( innerBlockImages ) {\n\treturn useSelect(\n\t\t( select ) => {\n\t\t\tconst imageIds = innerBlockImages\n\t\t\t\t.map( ( imageBlock ) => imageBlock.attributes.id )\n\t\t\t\t.filter( ( id ) => id !== undefined );\n\n\t\t\tif ( imageIds.length === 0 ) {\n\t\t\t\treturn EMPTY_IMAGE_MEDIA;\n\t\t\t}\n\n\t\t\treturn (\n\t\t\t\tselect( coreStore ).getMediaItems( {\n\t\t\t\t\tinclude: imageIds.join( ',' ),\n\t\t\t\t\tper_page: -1,\n\t\t\t\t\torderby: 'include',\n\t\t\t\t} ) ?? EMPTY_IMAGE_MEDIA\n\t\t\t);\n\t\t},\n\t\t[ innerBlockImages ]\n\t);\n}\n"]}