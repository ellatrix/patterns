{"version":3,"sources":["@wordpress/block-library/src/cover/save.js"],"names":["save","attributes","backgroundType","gradient","contentPosition","customGradient","customOverlayColor","dimRatio","focalPoint","useFeaturedImage","hasParallax","isDark","isRepeated","overlayColor","url","alt","id","minHeight","minHeightProp","minHeightUnit","tagName","Tag","overlayColorClass","gradientClass","isImageBackground","IMAGE_BACKGROUND_TYPE","isVideoBackground","VIDEO_BACKGROUND_TYPE","isImgElement","style","undefined","bgStyle","backgroundColor","background","objectPosition","backgroundImage","backgroundPosition","classes","imgClasses","gradientValue","useBlockProps","className","useInnerBlocksProps"],"mappings":"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","sourcesContent":["/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tuseInnerBlocksProps,\n\tgetColorClassName,\n\t__experimentalGetGradientClass,\n\tuseBlockProps,\n} from '@wordpress/block-editor';\n\n/**\n * Internal dependencies\n */\nimport {\n\tIMAGE_BACKGROUND_TYPE,\n\tVIDEO_BACKGROUND_TYPE,\n\tdimRatioToClass,\n\tisContentPositionCenter,\n\tgetPositionClassName,\n\tmediaPosition,\n} from './shared';\n\nexport default function save( { attributes } ) {\n\tconst {\n\t\tbackgroundType,\n\t\tgradient,\n\t\tcontentPosition,\n\t\tcustomGradient,\n\t\tcustomOverlayColor,\n\t\tdimRatio,\n\t\tfocalPoint,\n\t\tuseFeaturedImage,\n\t\thasParallax,\n\t\tisDark,\n\t\tisRepeated,\n\t\toverlayColor,\n\t\turl,\n\t\talt,\n\t\tid,\n\t\tminHeight: minHeightProp,\n\t\tminHeightUnit,\n\t\ttagName: Tag,\n\t} = attributes;\n\tconst overlayColorClass = getColorClassName(\n\t\t'background-color',\n\t\toverlayColor\n\t);\n\tconst gradientClass = __experimentalGetGradientClass( gradient );\n\tconst minHeight =\n\t\tminHeightProp && minHeightUnit\n\t\t\t? `${ minHeightProp }${ minHeightUnit }`\n\t\t\t: minHeightProp;\n\n\tconst isImageBackground = IMAGE_BACKGROUND_TYPE === backgroundType;\n\tconst isVideoBackground = VIDEO_BACKGROUND_TYPE === backgroundType;\n\n\tconst isImgElement = ! ( hasParallax || isRepeated );\n\n\tconst style = {\n\t\tminHeight: minHeight || undefined,\n\t};\n\n\tconst bgStyle = {\n\t\tbackgroundColor: ! overlayColorClass ? customOverlayColor : undefined,\n\t\tbackground: customGradient ? customGradient : undefined,\n\t};\n\n\tconst objectPosition =\n\t\t// prettier-ignore\n\t\tfocalPoint && isImgElement\n\t\t\t  ? mediaPosition(focalPoint)\n\t\t\t  : undefined;\n\n\tconst backgroundImage = url ? `url(${ url })` : undefined;\n\n\tconst backgroundPosition = mediaPosition( focalPoint );\n\n\tconst classes = classnames(\n\t\t{\n\t\t\t'is-light': ! isDark,\n\t\t\t'has-parallax': hasParallax,\n\t\t\t'is-repeated': isRepeated,\n\t\t\t'has-custom-content-position':\n\t\t\t\t! isContentPositionCenter( contentPosition ),\n\t\t},\n\t\tgetPositionClassName( contentPosition )\n\t);\n\n\tconst imgClasses = classnames(\n\t\t'wp-block-cover__image-background',\n\t\tid ? `wp-image-${ id }` : null,\n\t\t{\n\t\t\t'has-parallax': hasParallax,\n\t\t\t'is-repeated': isRepeated,\n\t\t}\n\t);\n\n\tconst gradientValue = gradient || customGradient;\n\n\treturn (\n\t\t<Tag { ...useBlockProps.save( { className: classes, style } ) }>\n\t\t\t<span\n\t\t\t\taria-hidden=\"true\"\n\t\t\t\tclassName={ classnames(\n\t\t\t\t\t'wp-block-cover__background',\n\t\t\t\t\toverlayColorClass,\n\t\t\t\t\tdimRatioToClass( dimRatio ),\n\t\t\t\t\t{\n\t\t\t\t\t\t'has-background-dim': dimRatio !== undefined,\n\t\t\t\t\t\t// For backwards compatibility. Former versions of the Cover Block applied\n\t\t\t\t\t\t// `.wp-block-cover__gradient-background` in the presence of\n\t\t\t\t\t\t// media, a gradient and a dim.\n\t\t\t\t\t\t'wp-block-cover__gradient-background':\n\t\t\t\t\t\t\turl && gradientValue && dimRatio !== 0,\n\t\t\t\t\t\t'has-background-gradient': gradientValue,\n\t\t\t\t\t\t[ gradientClass ]: gradientClass,\n\t\t\t\t\t}\n\t\t\t\t) }\n\t\t\t\tstyle={ bgStyle }\n\t\t\t/>\n\n\t\t\t{ ! useFeaturedImage &&\n\t\t\t\tisImageBackground &&\n\t\t\t\turl &&\n\t\t\t\t( isImgElement ? (\n\t\t\t\t\t<img\n\t\t\t\t\t\tclassName={ imgClasses }\n\t\t\t\t\t\talt={ alt }\n\t\t\t\t\t\tsrc={ url }\n\t\t\t\t\t\tstyle={ { objectPosition } }\n\t\t\t\t\t\tdata-object-fit=\"cover\"\n\t\t\t\t\t\tdata-object-position={ objectPosition }\n\t\t\t\t\t/>\n\t\t\t\t) : (\n\t\t\t\t\t<div\n\t\t\t\t\t\trole=\"img\"\n\t\t\t\t\t\tclassName={ imgClasses }\n\t\t\t\t\t\tstyle={ { backgroundPosition, backgroundImage } }\n\t\t\t\t\t/>\n\t\t\t\t) ) }\n\t\t\t{ isVideoBackground && url && (\n\t\t\t\t<video\n\t\t\t\t\tclassName={ classnames(\n\t\t\t\t\t\t'wp-block-cover__video-background',\n\t\t\t\t\t\t'intrinsic-ignore'\n\t\t\t\t\t) }\n\t\t\t\t\tautoPlay\n\t\t\t\t\tmuted\n\t\t\t\t\tloop\n\t\t\t\t\tplaysInline\n\t\t\t\t\tsrc={ url }\n\t\t\t\t\tstyle={ { objectPosition } }\n\t\t\t\t\tdata-object-fit=\"cover\"\n\t\t\t\t\tdata-object-position={ objectPosition }\n\t\t\t\t/>\n\t\t\t) }\n\t\t\t<div\n\t\t\t\t{ ...useInnerBlocksProps.save( {\n\t\t\t\t\tclassName: 'wp-block-cover__inner-container',\n\t\t\t\t} ) }\n\t\t\t/>\n\t\t</Tag>\n\t);\n}\n"]}