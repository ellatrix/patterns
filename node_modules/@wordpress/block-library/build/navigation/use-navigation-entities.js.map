{"version":3,"sources":["@wordpress/block-library/src/navigation/use-navigation-entities.js"],"names":["useNavigationEntities","menuId","records","menus","isResolving","isResolvingMenus","hasResolved","hasResolvedMenus","per_page","context","pages","isResolvingPages","hasResolvedPages","parent","order","orderby","menuItems","hasResolvedMenuItems","enabled","hasPages","length","hasMenus"],"mappings":";;;;;;;AAGA;;AAHA;AACA;AACA;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACe,SAASA,qBAAT,CAAgCC,MAAhC,EAAyC;AACvD,QAAM;AACLC,IAAAA,OAAO,EAAEC,KADJ;AAELC,IAAAA,WAAW,EAAEC,gBAFR;AAGLC,IAAAA,WAAW,EAAEC;AAHR,MAIF,gCAAkB,MAAlB,EAA0B,MAA1B,EAAkC;AAAEC,IAAAA,QAAQ,EAAE,CAAC,CAAb;AAAgBC,IAAAA,OAAO,EAAE;AAAzB,GAAlC,CAJJ;AAMA,QAAM;AACLP,IAAAA,OAAO,EAAEQ,KADJ;AAELN,IAAAA,WAAW,EAAEO,gBAFR;AAGLL,IAAAA,WAAW,EAAEM;AAHR,MAIF,gCAAkB,UAAlB,EAA8B,MAA9B,EAAsC;AACzCC,IAAAA,MAAM,EAAE,CADiC;AAEzCC,IAAAA,KAAK,EAAE,KAFkC;AAGzCC,IAAAA,OAAO,EAAE,IAHgC;AAIzCP,IAAAA,QAAQ,EAAE,CAAC,CAJ8B;AAKzCC,IAAAA,OAAO,EAAE;AALgC,GAAtC,CAJJ;AAYA,QAAM;AAAEP,IAAAA,OAAO,EAAEc,SAAX;AAAsBV,IAAAA,WAAW,EAAEW;AAAnC,MACL,gCACC,MADD,EAEC,UAFD,EAGC;AACCd,IAAAA,KAAK,EAAEF,MADR;AAECO,IAAAA,QAAQ,EAAE,CAAC,CAFZ;AAGCC,IAAAA,OAAO,EAAE;AAHV,GAHD,EAQC;AAAES,IAAAA,OAAO,EAAE,CAAC,CAAEjB;AAAd,GARD,CADD;AAYA,SAAO;AACNS,IAAAA,KADM;AAENC,IAAAA,gBAFM;AAGNC,IAAAA,gBAHM;AAINO,IAAAA,QAAQ,EAAE,CAAC,EAAIP,gBAAgB,IAAIF,KAAJ,aAAIA,KAAJ,eAAIA,KAAK,CAAEU,MAA/B,CAJL;AAMNjB,IAAAA,KANM;AAONE,IAAAA,gBAPM;AAQNE,IAAAA,gBARM;AASNc,IAAAA,QAAQ,EAAE,CAAC,EAAId,gBAAgB,IAAIJ,KAAJ,aAAIA,KAAJ,eAAIA,KAAK,CAAEiB,MAA/B,CATL;AAWNJ,IAAAA,SAXM;AAYNC,IAAAA;AAZM,GAAP;AAcA","sourcesContent":["/**\n * WordPress dependencies\n */\nimport { useEntityRecords } from '@wordpress/core-data';\n\n/**\n * @typedef {Object} NavigationEntitiesData\n * @property {Array|undefined} pages                - a collection of WP Post entity objects of post type \"Page\".\n * @property {boolean}         isResolvingPages     - indicates whether the request to fetch pages is currently resolving.\n * @property {boolean}         hasResolvedPages     - indicates whether the request to fetch pages has finished resolving.\n * @property {Array|undefined} menus                - a collection of Menu entity objects.\n * @property {boolean}         isResolvingMenus     - indicates whether the request to fetch menus is currently resolving.\n * @property {boolean}         hasResolvedMenus     - indicates whether the request to fetch menus has finished resolving.\n * @property {Array|undefined} menusItems           - a collection of Menu Item entity objects for the current menuId.\n * @property {boolean}         hasResolvedMenuItems - indicates whether the request to fetch menuItems has finished resolving.\n * @property {boolean}         hasPages             - indicates whether there is currently any data for pages.\n * @property {boolean}         hasMenus             - indicates whether there is currently any data for menus.\n */\n\n/**\n * Manages fetching and resolution state for all entities required\n * for the Navigation block.\n *\n * @param {number} menuId the menu for which to retrieve menuItem data.\n * @return { NavigationEntitiesData } the entity data.\n */\nexport default function useNavigationEntities( menuId ) {\n\tconst {\n\t\trecords: menus,\n\t\tisResolving: isResolvingMenus,\n\t\thasResolved: hasResolvedMenus,\n\t} = useEntityRecords( 'root', 'menu', { per_page: -1, context: 'view' } );\n\n\tconst {\n\t\trecords: pages,\n\t\tisResolving: isResolvingPages,\n\t\thasResolved: hasResolvedPages,\n\t} = useEntityRecords( 'postType', 'page', {\n\t\tparent: 0,\n\t\torder: 'asc',\n\t\torderby: 'id',\n\t\tper_page: -1,\n\t\tcontext: 'view',\n\t} );\n\n\tconst { records: menuItems, hasResolved: hasResolvedMenuItems } =\n\t\tuseEntityRecords(\n\t\t\t'root',\n\t\t\t'menuItem',\n\t\t\t{\n\t\t\t\tmenus: menuId,\n\t\t\t\tper_page: -1,\n\t\t\t\tcontext: 'view',\n\t\t\t},\n\t\t\t{ enabled: !! menuId }\n\t\t);\n\n\treturn {\n\t\tpages,\n\t\tisResolvingPages,\n\t\thasResolvedPages,\n\t\thasPages: !! ( hasResolvedPages && pages?.length ),\n\n\t\tmenus,\n\t\tisResolvingMenus,\n\t\thasResolvedMenus,\n\t\thasMenus: !! ( hasResolvedMenus && menus?.length ),\n\n\t\tmenuItems,\n\t\thasResolvedMenuItems,\n\t};\n}\n"]}