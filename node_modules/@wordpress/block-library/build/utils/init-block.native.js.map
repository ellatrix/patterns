{"version":3,"sources":["@wordpress/block-library/src/utils/init-block.native.js"],"names":["ALLOWED_BLOCKS_GRADIENT_SUPPORT","initBlock","block","metadata","settings","name","supports","includes","color","gradients"],"mappings":";;;;;;;AAGA;;AAHA;AACA;AACA;AAGA,MAAMA,+BAA+B,GAAG,CAAE,aAAF,CAAxC;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACe,SAASC,SAAT,CAAoBC,KAApB,EAA4B;AAAA;;AAC1C,MAAK,CAAEA,KAAP,EAAe;AACd;AACA;;AACD,QAAM;AAAEC,IAAAA,QAAF;AAAYC,IAAAA,QAAZ;AAAsBC,IAAAA;AAAtB,MAA+BH,KAArC;AACA,QAAM;AAAEI,IAAAA;AAAF,MAAeH,QAArB;AAEA,SAAO,+BACN;AACCE,IAAAA,IADD;AAEC,OAAGF,QAFJ;AAGC;AACA,QAAK,CAAEH,+BAA+B,CAACO,QAAhC,CAA0CF,IAA1C,CAAF,IACLC,QADK,aACLA,QADK,kCACLA,QAAQ,CAAEE,KADL,4CACL,gBAAiBC,SADZ,GAEF;AACAH,MAAAA,QAAQ,EAAE,EACT,GAAGA,QADM;AAETE,QAAAA,KAAK,EAAE,EAAE,GAAGF,QAAQ,CAACE,KAAd;AAAqBC,UAAAA,SAAS,EAAE;AAAhC;AAFE;AADV,KAFE,GAQF,EARH;AAJD,GADM,EAeNL,QAfM,CAAP;AAiBA","sourcesContent":["/**\n * WordPress dependencies\n */\nimport { registerBlockType } from '@wordpress/blocks';\n\nconst ALLOWED_BLOCKS_GRADIENT_SUPPORT = [ 'core/button' ];\n\n/**\n * Function to register an individual block.\n *\n * @param {Object} block The block to be registered.\n *\n * @return {WPBlockType | undefined} The block, if it has been successfully registered;\n *                        otherwise `undefined`.\n */\nexport default function initBlock( block ) {\n\tif ( ! block ) {\n\t\treturn;\n\t}\n\tconst { metadata, settings, name } = block;\n\tconst { supports } = metadata;\n\n\treturn registerBlockType(\n\t\t{\n\t\t\tname,\n\t\t\t...metadata,\n\t\t\t// Gradients support only available for blocks listed in ALLOWED_BLOCKS_GRADIENT_SUPPORT.\n\t\t\t...( ! ALLOWED_BLOCKS_GRADIENT_SUPPORT.includes( name ) &&\n\t\t\tsupports?.color?.gradients\n\t\t\t\t? {\n\t\t\t\t\t\tsupports: {\n\t\t\t\t\t\t\t...supports,\n\t\t\t\t\t\t\tcolor: { ...supports.color, gradients: false },\n\t\t\t\t\t\t},\n\t\t\t\t  }\n\t\t\t\t: {} ),\n\t\t},\n\t\tsettings\n\t);\n}\n"]}