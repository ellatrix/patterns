"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _element = require("@wordpress/element");

var _reactNative = require("react-native");

var _blockListContext = require("./block-list-context");

/**
 * External dependencies
 */

/**
 * WordPress dependencies
 */

/**
 * Internal dependencies
 */
function BlockListItemCell(_ref) {
  let {
    children,
    clientId,
    rootClientId,
    onLayout
  } = _ref;
  const {
    blocksLayouts,
    updateBlocksLayouts
  } = (0, _blockListContext.useBlockListContext)();
  (0, _element.useEffect)(() => {
    return () => {
      updateBlocksLayouts(blocksLayouts, {
        clientId,
        shouldRemove: true
      });
    };
  }, []);
  const onCellLayout = (0, _element.useCallback)(event => {
    const {
      nativeEvent: {
        layout
      }
    } = event;
    updateBlocksLayouts(blocksLayouts, {
      clientId,
      rootClientId,
      ...layout
    });

    if (onLayout) {
      onLayout(event);
    }
  }, [clientId, rootClientId, updateBlocksLayouts, onLayout]);
  return (0, _element.createElement)(_reactNative.View, {
    onLayout: onCellLayout
  }, children);
}

var _default = BlockListItemCell;
exports.default = _default;
//# sourceMappingURL=block-list-item-cell.native.js.map