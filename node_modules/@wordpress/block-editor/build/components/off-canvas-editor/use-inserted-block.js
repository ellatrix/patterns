"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.useInsertedBlock = void 0;

var _data = require("@wordpress/data");

var _store = require("../../store");

/**
 * WordPress dependencies
 */

/**
 * Internal dependencies
 */
const useInsertedBlock = insertedBlockClientId => {
  const {
    insertedBlockAttributes,
    insertedBlockName
  } = (0, _data.useSelect)(select => {
    const {
      getBlockName,
      getBlockAttributes
    } = select(_store.store);
    return {
      insertedBlockAttributes: getBlockAttributes(insertedBlockClientId),
      insertedBlockName: getBlockName(insertedBlockClientId)
    };
  }, [insertedBlockClientId]);
  const {
    updateBlockAttributes
  } = (0, _data.useDispatch)(_store.store);

  const setInsertedBlockAttributes = _updatedAttributes => {
    if (!insertedBlockClientId) return;
    updateBlockAttributes(insertedBlockClientId, _updatedAttributes);
  };

  if (!insertedBlockClientId) {
    return {
      insertedBlockAttributes: undefined,
      insertedBlockName: undefined,
      setInsertedBlockAttributes
    };
  }

  return {
    insertedBlockAttributes,
    insertedBlockName,
    setInsertedBlockAttributes
  };
};

exports.useInsertedBlock = useInsertedBlock;
//# sourceMappingURL=use-inserted-block.js.map