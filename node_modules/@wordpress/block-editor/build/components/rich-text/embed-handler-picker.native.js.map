{"version":3,"sources":["@wordpress/block-editor/src/components/rich-text/embed-handler-picker.native.js"],"names":["noop","DEFAULT_PICKER_OPTIONS","id","label","value","onSelect","EmbedHandlerPicker","ref","pickerRef","pickerOptions","current","onPickerSelect","selectedItem","find","item","presentPicker","createEmbed","createLink"],"mappings":";;;;;;;AAGA;;AAOA;;AACA;;AAXA;AACA;AACA;AAWA,MAAMA,IAAI,GAAG,MAAM,CAAE,CAArB;;AAEA,MAAMC,sBAAsB,GAAG,CAC9B;AACCC,EAAAA,EAAE,EAAE,aADL;AAECC,EAAAA,KAAK,EAAE,cAAI,cAAJ,CAFR;AAGCC,EAAAA,KAAK,EAAE,aAHR;AAICC,EAAAA,QAAQ,EAAEL;AAJX,CAD8B,EAO9B;AACCE,EAAAA,EAAE,EAAE,YADL;AAECC,EAAAA,KAAK,EAAE,cAAI,aAAJ,CAFR;AAGCC,EAAAA,KAAK,EAAE,YAHR;AAICC,EAAAA,QAAQ,EAAEL;AAJX,CAP8B,CAA/B;AAeA,MAAMM,kBAAkB,GAAG,yBAAY,OAAMC,GAAN,KAAe;AAAA,MAAb,EAAa;AACrD,QAAMC,SAAS,GAAG,sBAAlB;AACA,QAAMC,aAAa,GAAG,qBAAQR,sBAAR,EAAiCS,OAAvD;AAEA,QAAMC,cAAc,GAAG,0BACpBP,KAAF,IAAa;AACZ,UAAMQ,YAAY,GAAGH,aAAa,CAACI,IAAd,CAClBC,IAAF,IAAYA,IAAI,CAACV,KAAL,KAAeA,KADP,CAArB;AAGAQ,IAAAA,YAAY,CAACP,QAAb;AACA,GANqB,EAOtB,CAAEI,aAAF,CAPsB,CAAvB;AAUA,oCAAqBF,GAArB,EAA0B,OAAQ;AACjCQ,IAAAA,aAAa,EAAE,SAAmC;AAAA;;AAAA,UAAjC;AAAEC,QAAAA,WAAF;AAAeC,QAAAA;AAAf,OAAiC;AACjDR,MAAAA,aAAa,CAAE,CAAF,CAAb,CAAmBJ,QAAnB,GAA8BW,WAA9B;AACAP,MAAAA,aAAa,CAAE,CAAF,CAAb,CAAmBJ,QAAnB,GAA8BY,UAA9B;AACA,4BAAAT,SAAS,CAACE,OAAV,0EAAmBK,aAAnB;AACA;AALgC,GAAR,CAA1B;AAQA,SACC,4BAAC,kBAAD;AACC,IAAA,GAAG,EAAGP,SADP;AAEC,IAAA,OAAO,EAAGC,aAFX;AAGC,IAAA,QAAQ,EAAGE,cAHZ;AAIC,IAAA,MAAM,EAAC,sBAJR;AAKC,IAAA,gBAAgB,MALjB;AAMC,IAAA,SAAS;AANV,IADD;AAUA,CAhC0B,CAA3B;;eAkCe,mBAAML,kBAAN,C","sourcesContent":["/**\n * WordPress dependencies\n */\nimport {\n\tforwardRef,\n\tuseRef,\n\tuseImperativeHandle,\n\tmemo,\n\tuseCallback,\n} from '@wordpress/element';\nimport { Picker } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\n\nconst noop = () => {};\n\nconst DEFAULT_PICKER_OPTIONS = [\n\t{\n\t\tid: 'createEmbed',\n\t\tlabel: __( 'Create embed' ),\n\t\tvalue: 'createEmbed',\n\t\tonSelect: noop,\n\t},\n\t{\n\t\tid: 'createLink',\n\t\tlabel: __( 'Create link' ),\n\t\tvalue: 'createLink',\n\t\tonSelect: noop,\n\t},\n];\n\nconst EmbedHandlerPicker = forwardRef( ( {}, ref ) => {\n\tconst pickerRef = useRef();\n\tconst pickerOptions = useRef( DEFAULT_PICKER_OPTIONS ).current;\n\n\tconst onPickerSelect = useCallback(\n\t\t( value ) => {\n\t\t\tconst selectedItem = pickerOptions.find(\n\t\t\t\t( item ) => item.value === value\n\t\t\t);\n\t\t\tselectedItem.onSelect();\n\t\t},\n\t\t[ pickerOptions ]\n\t);\n\n\tuseImperativeHandle( ref, () => ( {\n\t\tpresentPicker: ( { createEmbed, createLink } ) => {\n\t\t\tpickerOptions[ 0 ].onSelect = createEmbed;\n\t\t\tpickerOptions[ 1 ].onSelect = createLink;\n\t\t\tpickerRef.current?.presentPicker();\n\t\t},\n\t} ) );\n\n\treturn (\n\t\t<Picker\n\t\t\tref={ pickerRef }\n\t\t\toptions={ pickerOptions }\n\t\t\tonChange={ onPickerSelect }\n\t\t\ttestID=\"embed-handler-picker\"\n\t\t\thideCancelButton\n\t\t\tleftAlign\n\t\t/>\n\t);\n} );\n\nexport default memo( EmbedHandlerPicker );\n"]}