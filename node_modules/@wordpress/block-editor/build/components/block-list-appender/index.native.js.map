{"version":3,"sources":["@wordpress/block-editor/src/components/block-list-appender/index.native.js"],"names":["DefaultAppender","rootClientId","showSeparator","blockClientIds","canInsertDefaultBlock","select","getBlockOrder","canInsertBlockType","blockEditorStore","length","styles","blockListAppender","BlockListAppender","renderAppender","CustomAppender","isLocked","getTemplateLock"],"mappings":";;;;;;;;;;;AAGA;;AACA;;AAKA;;AACA;;AACA;;AAXA;AACA;AACA;;AAIA;AACA;AACA;AAKA,SAASA,eAAT,OAA4D;AAAA,MAAlC;AAAEC,IAAAA,YAAF;AAAgBC,IAAAA;AAAhB,GAAkC;AAC3D,QAAM;AAAEC,IAAAA,cAAF;AAAkBC,IAAAA;AAAlB,MAA4C,qBAC/CC,MAAF,IAAc;AACb,UAAM;AAAEC,MAAAA,aAAF;AAAiBC,MAAAA;AAAjB,QACLF,MAAM,CAAEG,YAAF,CADP;AAEA,WAAO;AACNL,MAAAA,cAAc,EAAEG,aAAa,CAAEL,YAAF,CADvB;AAENG,MAAAA,qBAAqB,EAAEG,kBAAkB,CACxC,kCADwC,EAExCN,YAFwC;AAFnC,KAAP;AAOA,GAXgD,EAYjD,CAAEA,YAAF,CAZiD,CAAlD;;AAeA,MAAK,CAAEG,qBAAP,EAA+B;AAC9B,WAAO,IAAP;AACA;;AAED,SACC,4BAAC,6BAAD;AACC,IAAA,YAAY,EAAGH,YADhB;AAEC,IAAA,iBAAiB,EAAGE,cAAc,CAAEA,cAAc,CAACM,MAAf,GAAwB,CAA1B,CAFnC;AAGC,IAAA,cAAc,EAAGC,eAAOC,iBAHzB;AAIC,IAAA,WAAW,EAAGR,cAAc,CAACM,MAAf,GAAwB,CAAxB,GAA4B,EAA5B,GAAiC,IAJhD;AAKC,IAAA,aAAa,EAAGP;AALjB,IADD;AASA;;AAEc,SAASU,iBAAT,QAIX;AAAA,MAJuC;AAC1CX,IAAAA,YAD0C;AAE1CY,IAAAA,cAAc,EAAEC,cAF0B;AAG1CZ,IAAAA;AAH0C,GAIvC;AACH,QAAMa,QAAQ,GAAG,qBACdV,MAAF,IACC,CAAC,CAAEA,MAAM,CAAEG,YAAF,CAAN,CAA2BQ,eAA3B,CAA4Cf,YAA5C,CAFY,EAGhB,CAAEA,YAAF,CAHgB,CAAjB;;AAMA,MAAKc,QAAL,EAAgB;AACf,WAAO,IAAP;AACA;;AAED,MAAKD,cAAL,EAAsB;AACrB,WAAO,4BAAC,cAAD;AAAgB,MAAA,aAAa,EAAGZ;AAAhC,MAAP;AACA;;AAED,SACC,4BAAC,eAAD;AACC,IAAA,YAAY,EAAGD,YADhB;AAEC,IAAA,aAAa,EAAGC;AAFjB,IADD;AAMA","sourcesContent":["/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { getDefaultBlockName } from '@wordpress/blocks';\n\n/**\n * Internal dependencies\n */\nimport DefaultBlockAppender from '../default-block-appender';\nimport styles from './style.scss';\nimport { store as blockEditorStore } from '../../store';\n\nfunction DefaultAppender( { rootClientId, showSeparator } ) {\n\tconst { blockClientIds, canInsertDefaultBlock } = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getBlockOrder, canInsertBlockType } =\n\t\t\t\tselect( blockEditorStore );\n\t\t\treturn {\n\t\t\t\tblockClientIds: getBlockOrder( rootClientId ),\n\t\t\t\tcanInsertDefaultBlock: canInsertBlockType(\n\t\t\t\t\tgetDefaultBlockName(),\n\t\t\t\t\trootClientId\n\t\t\t\t),\n\t\t\t};\n\t\t},\n\t\t[ rootClientId ]\n\t);\n\n\tif ( ! canInsertDefaultBlock ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<DefaultBlockAppender\n\t\t\trootClientId={ rootClientId }\n\t\t\tlastBlockClientId={ blockClientIds[ blockClientIds.length - 1 ] }\n\t\t\tcontainerStyle={ styles.blockListAppender }\n\t\t\tplaceholder={ blockClientIds.length > 0 ? '' : null }\n\t\t\tshowSeparator={ showSeparator }\n\t\t/>\n\t);\n}\n\nexport default function BlockListAppender( {\n\trootClientId,\n\trenderAppender: CustomAppender,\n\tshowSeparator,\n} ) {\n\tconst isLocked = useSelect(\n\t\t( select ) =>\n\t\t\t!! select( blockEditorStore ).getTemplateLock( rootClientId ),\n\t\t[ rootClientId ]\n\t);\n\n\tif ( isLocked ) {\n\t\treturn null;\n\t}\n\n\tif ( CustomAppender ) {\n\t\treturn <CustomAppender showSeparator={ showSeparator } />;\n\t}\n\n\treturn (\n\t\t<DefaultAppender\n\t\t\trootClientId={ rootClientId }\n\t\t\tshowSeparator={ showSeparator }\n\t\t/>\n\t);\n}\n"]}