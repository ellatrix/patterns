{"version":3,"sources":["@wordpress/block-editor/src/components/inspector-controls-tabs/use-inspector-controls-tabs.js"],"names":["EMPTY_ARRAY","getShowTabs","blockName","tabSettings","undefined","default","useInspectorControlsTabs","tabs","border","borderGroup","color","colorGroup","defaultGroup","dimensions","dimensionsGroup","list","listGroup","position","positionGroup","styles","stylesGroup","typography","typographyGroup","InspectorControlsGroups","listViewDisabled","listFills","Slot","__unstableName","hasListFills","length","styleFills","hasStyleFills","advancedFills","InspectorAdvancedControls","slotName","settingsFills","push","TAB_LIST_VIEW","TAB_SETTINGS","TAB_STYLES","select","blockEditorStore","getSettings","blockInspectorTabs","showTabs"],"mappings":"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","sourcesContent":["/**\n * WordPress dependencies\n */\nimport { __experimentalUseSlotFills as useSlotFills } from '@wordpress/components';\nimport { useSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport InspectorControlsGroups from '../inspector-controls/groups';\nimport useIsListViewTabDisabled from './use-is-list-view-tab-disabled';\nimport { InspectorAdvancedControls } from '../inspector-controls';\nimport { TAB_LIST_VIEW, TAB_SETTINGS, TAB_STYLES } from './utils';\nimport { store as blockEditorStore } from '../../store';\n\nconst EMPTY_ARRAY = [];\n\nfunction getShowTabs( blockName, tabSettings = {} ) {\n\t// Block specific setting takes precedence over generic default.\n\tif ( tabSettings[ blockName ] !== undefined ) {\n\t\treturn tabSettings[ blockName ];\n\t}\n\n\t// Use generic default if set over the Gutenberg experiment option.\n\tif ( tabSettings.default !== undefined ) {\n\t\treturn tabSettings.default;\n\t}\n\n\treturn true;\n}\n\nexport default function useInspectorControlsTabs( blockName ) {\n\tconst tabs = [];\n\tconst {\n\t\tborder: borderGroup,\n\t\tcolor: colorGroup,\n\t\tdefault: defaultGroup,\n\t\tdimensions: dimensionsGroup,\n\t\tlist: listGroup,\n\t\tposition: positionGroup,\n\t\tstyles: stylesGroup,\n\t\ttypography: typographyGroup,\n\t} = InspectorControlsGroups;\n\n\t// List View Tab: If there are any fills for the list group add that tab.\n\tconst listViewDisabled = useIsListViewTabDisabled( blockName );\n\tconst listFills = useSlotFills( listGroup.Slot.__unstableName );\n\tconst hasListFills = ! listViewDisabled && !! listFills && listFills.length;\n\n\t// Styles Tab: Add this tab if there are any fills for block supports\n\t// e.g. border, color, spacing, typography, etc.\n\tconst styleFills = [\n\t\t...( useSlotFills( borderGroup.Slot.__unstableName ) || [] ),\n\t\t...( useSlotFills( colorGroup.Slot.__unstableName ) || [] ),\n\t\t...( useSlotFills( dimensionsGroup.Slot.__unstableName ) || [] ),\n\t\t...( useSlotFills( stylesGroup.Slot.__unstableName ) || [] ),\n\t\t...( useSlotFills( typographyGroup.Slot.__unstableName ) || [] ),\n\t];\n\tconst hasStyleFills = styleFills.length;\n\n\t// Settings Tab: If we don't have multiple tabs to display\n\t// (i.e. both list view and styles), check only the default and position\n\t// InspectorControls slots. If we have multiple tabs, we'll need to check\n\t// the advanced controls slot as well to ensure they are rendered.\n\tconst advancedFills =\n\t\tuseSlotFills( InspectorAdvancedControls.slotName ) || [];\n\n\tconst settingsFills = [\n\t\t...( useSlotFills( defaultGroup.Slot.__unstableName ) || [] ),\n\t\t...( useSlotFills( positionGroup.Slot.__unstableName ) || [] ),\n\t\t...( hasListFills && hasStyleFills > 1 ? advancedFills : [] ),\n\t];\n\n\t// Add the tabs in the order that they will default to if available.\n\t// List View > Settings > Styles.\n\tif ( hasListFills ) {\n\t\ttabs.push( TAB_LIST_VIEW );\n\t}\n\n\tif ( settingsFills.length ) {\n\t\ttabs.push( TAB_SETTINGS );\n\t}\n\n\tif ( hasStyleFills ) {\n\t\ttabs.push( TAB_STYLES );\n\t}\n\n\tconst tabSettings = useSelect( ( select ) => {\n\t\treturn select( blockEditorStore ).getSettings().blockInspectorTabs;\n\t}, [] );\n\n\tconst showTabs = getShowTabs( blockName, tabSettings );\n\n\treturn showTabs ? tabs : EMPTY_ARRAY;\n}\n"]}