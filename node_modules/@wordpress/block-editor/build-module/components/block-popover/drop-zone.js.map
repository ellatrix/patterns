{"version":3,"sources":["@wordpress/block-editor/src/components/block-popover/drop-zone.js"],"names":["useSelect","useReducedMotion","__unstableMotion","motion","store","blockEditorStore","BlockPopover","animateVariants","hide","opacity","scaleY","show","exit","BlockDropZonePopover","__unstablePopoverSlot","__unstableContentRef","clientId","select","getBlockOrder","getBlockInsertionPoint","insertionPoint","order","rootClientId","length","index","reducedMotion"],"mappings":";;AAAA;AACA;AACA;AACA,SAASA,SAAT,QAA0B,iBAA1B;AACA,SAASC,gBAAT,QAAiC,oBAAjC;AACA,SAASC,gBAAgB,IAAIC,MAA7B,QAA2C,uBAA3C;AAEA;AACA;AACA;;AACA,SAASC,KAAK,IAAIC,gBAAlB,QAA0C,aAA1C;AACA,OAAOC,YAAP,MAAyB,SAAzB;AAEA,MAAMC,eAAe,GAAG;AACvBC,EAAAA,IAAI,EAAE;AAAEC,IAAAA,OAAO,EAAE,CAAX;AAAcC,IAAAA,MAAM,EAAE;AAAtB,GADiB;AAEvBC,EAAAA,IAAI,EAAE;AAAEF,IAAAA,OAAO,EAAE,CAAX;AAAcC,IAAAA,MAAM,EAAE;AAAtB,GAFiB;AAGvBE,EAAAA,IAAI,EAAE;AAAEH,IAAAA,OAAO,EAAE,CAAX;AAAcC,IAAAA,MAAM,EAAE;AAAtB;AAHiB,CAAxB;;AAMA,SAASG,oBAAT,OAGI;AAAA,MAH2B;AAC9BC,IAAAA,qBAD8B;AAE9BC,IAAAA;AAF8B,GAG3B;AACH,QAAM;AAAEC,IAAAA;AAAF,MAAehB,SAAS,CAAIiB,MAAF,IAAc;AAC7C,UAAM;AAAEC,MAAAA,aAAF;AAAiBC,MAAAA;AAAjB,QACLF,MAAM,CAAEZ,gBAAF,CADP;AAEA,UAAMe,cAAc,GAAGD,sBAAsB,EAA7C;AACA,UAAME,KAAK,GAAGH,aAAa,CAAEE,cAAc,CAACE,YAAjB,CAA3B;;AAEA,QAAK,CAAED,KAAK,CAACE,MAAb,EAAsB;AACrB,aAAO,EAAP;AACA;;AAED,WAAO;AACNP,MAAAA,QAAQ,EAAEK,KAAK,CAAED,cAAc,CAACI,KAAjB;AADT,KAAP;AAGA,GAb6B,EAa3B,EAb2B,CAA9B;AAcA,QAAMC,aAAa,GAAGxB,gBAAgB,EAAtC;AAEA,SACC,cAAC,YAAD;AACC,IAAA,QAAQ,EAAGe,QADZ;AAEC,IAAA,qBAAqB,MAFtB;AAGC,IAAA,qBAAqB,EAAGF,qBAHzB;AAIC,IAAA,oBAAoB,EAAGC,oBAJxB;AAKC,IAAA,SAAS,EAAC;AALX,KAOC,cAAC,MAAD,CAAQ,GAAR;AACC,mBAAY,yBADb;AAEC,IAAA,OAAO,EACNU,aAAa,GAAGlB,eAAe,CAACI,IAAnB,GAA0BJ,eAAe,CAACC,IAHzD;AAKC,IAAA,OAAO,EAAGD,eAAe,CAACI,IAL3B;AAMC,IAAA,IAAI,EACHc,aAAa,GAAGlB,eAAe,CAACI,IAAnB,GAA0BJ,eAAe,CAACK,IAPzD;AASC,IAAA,SAAS,EAAC;AATX,IAPD,CADD;AAqBA;;AAED,eAAeC,oBAAf","sourcesContent":["/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { useReducedMotion } from '@wordpress/compose';\nimport { __unstableMotion as motion } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport { store as blockEditorStore } from '../../store';\nimport BlockPopover from './index';\n\nconst animateVariants = {\n\thide: { opacity: 0, scaleY: 0.75 },\n\tshow: { opacity: 1, scaleY: 1 },\n\texit: { opacity: 0, scaleY: 0.9 },\n};\n\nfunction BlockDropZonePopover( {\n\t__unstablePopoverSlot,\n\t__unstableContentRef,\n} ) {\n\tconst { clientId } = useSelect( ( select ) => {\n\t\tconst { getBlockOrder, getBlockInsertionPoint } =\n\t\t\tselect( blockEditorStore );\n\t\tconst insertionPoint = getBlockInsertionPoint();\n\t\tconst order = getBlockOrder( insertionPoint.rootClientId );\n\n\t\tif ( ! order.length ) {\n\t\t\treturn {};\n\t\t}\n\n\t\treturn {\n\t\t\tclientId: order[ insertionPoint.index ],\n\t\t};\n\t}, [] );\n\tconst reducedMotion = useReducedMotion();\n\n\treturn (\n\t\t<BlockPopover\n\t\t\tclientId={ clientId }\n\t\t\t__unstableCoverTarget\n\t\t\t__unstablePopoverSlot={ __unstablePopoverSlot }\n\t\t\t__unstableContentRef={ __unstableContentRef }\n\t\t\tclassName=\"block-editor-block-popover__drop-zone\"\n\t\t>\n\t\t\t<motion.div\n\t\t\t\tdata-testid=\"block-popover-drop-zone\"\n\t\t\t\tinitial={\n\t\t\t\t\treducedMotion ? animateVariants.show : animateVariants.hide\n\t\t\t\t}\n\t\t\t\tanimate={ animateVariants.show }\n\t\t\t\texit={\n\t\t\t\t\treducedMotion ? animateVariants.show : animateVariants.exit\n\t\t\t\t}\n\t\t\t\tclassName=\"block-editor-block-popover__drop-zone-foreground\"\n\t\t\t/>\n\t\t</BlockPopover>\n\t);\n}\n\nexport default BlockDropZonePopover;\n"]}