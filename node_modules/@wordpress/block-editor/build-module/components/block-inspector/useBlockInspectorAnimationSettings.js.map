{"version":3,"sources":["@wordpress/block-editor/src/components/block-inspector/useBlockInspectorAnimationSettings.js"],"names":["useSelect","store","blockEditorStore","useBlockInspectorAnimationSettings","blockType","selectedBlockClientId","select","globalBlockInspectorAnimationSettings","getSettings","blockInspectorAnimation","animationParent","getSelectedBlockClientId","getBlockParentsByBlockName","_selectedBlockClientId","animationParentBlockClientId","name"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,SAAT,QAA0B,iBAA1B;AAEA;AACA;AACA;;AACA,SAASC,KAAK,IAAIC,gBAAlB,QAA0C,aAA1C;AAEA,eAAe,SAASC,kCAAT,CACdC,SADc,EAEdC,qBAFc,EAGb;AACD,SAAOL,SAAS,CACbM,MAAF,IAAc;AACb,QAAKF,SAAL,EAAiB;AAChB,YAAMG,qCAAqC,GAC1CD,MAAM,CAAEJ,gBAAF,CAAN,CAA2BM,WAA3B,GACEC,uBAFH,CADgB,CAKhB;;AACA,YAAMC,eAAe,GACpBH,qCADoB,aACpBA,qCADoB,uBACpBA,qCAAqC,CAAEG,eADxC,CANgB,CAShB;;AACA,YAAM;AAAEC,QAAAA,wBAAF;AAA4BC,QAAAA;AAA5B,UACLN,MAAM,CAAEJ,gBAAF,CADP;;AAEA,YAAMW,sBAAsB,GAAGF,wBAAwB,EAAvD;;AACA,YAAMG,4BAA4B,GAAGF,0BAA0B,CAC9DC,sBAD8D,EAE9DH,eAF8D,EAG9D,IAH8D,CAA1B,CAIlC,CAJkC,CAArC,CAbgB,CAmBhB;AACA;;AACA,UACC,CAAEI,4BAAF,IACAV,SAAS,CAACW,IAAV,KAAmBL,eAFpB,EAGE;AACD,eAAO,IAAP;AACA;;AAED,aAAOH,qCAAP,aAAOA,qCAAP,uBAAOA,qCAAqC,CAC3CH,SAAS,CAACW,IADiC,CAA5C;AAGA;;AACD,WAAO,IAAP;AACA,GAnCc,EAoCf,CAAEV,qBAAF,EAAyBD,SAAzB,CApCe,CAAhB;AAsCA","sourcesContent":["/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { store as blockEditorStore } from '../../store';\n\nexport default function useBlockInspectorAnimationSettings(\n\tblockType,\n\tselectedBlockClientId\n) {\n\treturn useSelect(\n\t\t( select ) => {\n\t\t\tif ( blockType ) {\n\t\t\t\tconst globalBlockInspectorAnimationSettings =\n\t\t\t\t\tselect( blockEditorStore ).getSettings()\n\t\t\t\t\t\t.blockInspectorAnimation;\n\n\t\t\t\t// Get the name of the block that will allow it's children to be animated.\n\t\t\t\tconst animationParent =\n\t\t\t\t\tglobalBlockInspectorAnimationSettings?.animationParent;\n\n\t\t\t\t// Determine whether the animationParent block is a parent of the selected block.\n\t\t\t\tconst { getSelectedBlockClientId, getBlockParentsByBlockName } =\n\t\t\t\t\tselect( blockEditorStore );\n\t\t\t\tconst _selectedBlockClientId = getSelectedBlockClientId();\n\t\t\t\tconst animationParentBlockClientId = getBlockParentsByBlockName(\n\t\t\t\t\t_selectedBlockClientId,\n\t\t\t\t\tanimationParent,\n\t\t\t\t\ttrue\n\t\t\t\t)[ 0 ];\n\n\t\t\t\t// If the selected block is not a child of the animationParent block,\n\t\t\t\t// and not an animationParent block itself, don't animate.\n\t\t\t\tif (\n\t\t\t\t\t! animationParentBlockClientId &&\n\t\t\t\t\tblockType.name !== animationParent\n\t\t\t\t) {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\n\t\t\t\treturn globalBlockInspectorAnimationSettings?.[\n\t\t\t\t\tblockType.name\n\t\t\t\t];\n\t\t\t}\n\t\t\treturn null;\n\t\t},\n\t\t[ selectedBlockClientId, blockType ]\n\t);\n}\n"]}