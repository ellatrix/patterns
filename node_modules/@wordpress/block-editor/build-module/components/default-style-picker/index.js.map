{"version":3,"sources":["@wordpress/block-editor/src/components/default-style-picker/index.js"],"names":["store","blocksStore","useMemo","useCallback","__","SelectControl","useSelect","blockEditorStore","getDefaultStyle","DefaultStylePicker","blockName","preferredStyle","onUpdatePreferredStyleVariations","styles","select","settings","getSettings","preferredStyleVariations","__experimentalPreferredStyleVariations","value","onChange","getBlockStyles","selectOptions","label","map","name","defaultStyleName","selectOnChange","blockStyle"],"mappings":";;AAAA;AACA;AACA;AACA,SAASA,KAAK,IAAIC,WAAlB,QAAqC,mBAArC;AACA,SAASC,OAAT,EAAkBC,WAAlB,QAAqC,oBAArC;AACA,SAASC,EAAT,QAAmB,iBAAnB;AACA,SAASC,aAAT,QAA8B,uBAA9B;AACA,SAASC,SAAT,QAA0B,iBAA1B;AAEA;AACA;AACA;;AACA,SAASN,KAAK,IAAIO,gBAAlB,QAA0C,aAA1C;AACA,SAASC,eAAT,QAAgC,uBAAhC;AAEA,eAAe,SAASC,kBAAT,OAA6C;AAAA,MAAhB;AAAEC,IAAAA;AAAF,GAAgB;AAC3D,QAAM;AAAEC,IAAAA,cAAF;AAAkBC,IAAAA,gCAAlB;AAAoDC,IAAAA;AAApD,MACLP,SAAS,CACNQ,MAAF,IAAc;AAAA;;AACb,UAAMC,QAAQ,GAAGD,MAAM,CAAEP,gBAAF,CAAN,CAA2BS,WAA3B,EAAjB;AACA,UAAMC,wBAAwB,GAC7BF,QAAQ,CAACG,sCADV;AAEA,WAAO;AACNP,MAAAA,cAAc,EACbM,wBADa,aACbA,wBADa,gDACbA,wBAAwB,CAAEE,KADb,0DACb,sBAAmCT,SAAnC,CAFK;AAGNE,MAAAA,gCAAgC,4BAC/BK,wBAD+B,aAC/BA,wBAD+B,uBAC/BA,wBAAwB,CAAEG,QADK,2EACO,IAJjC;AAKNP,MAAAA,MAAM,EAAEC,MAAM,CAAEb,WAAF,CAAN,CAAsBoB,cAAtB,CAAsCX,SAAtC;AALF,KAAP;AAOA,GAZO,EAaR,CAAEA,SAAF,CAbQ,CADV;AAgBA,QAAMY,aAAa,GAAGpB,OAAO,CAC5B,MAAM,CACL;AAAEqB,IAAAA,KAAK,EAAEnB,EAAE,CAAE,SAAF,CAAX;AAA0Be,IAAAA,KAAK,EAAE;AAAjC,GADK,EAEL,GAAGN,MAAM,CAACW,GAAP,CAAY;AAAA,QAAE;AAAED,MAAAA,KAAF;AAASE,MAAAA;AAAT,KAAF;AAAA,WAAyB;AAAEF,MAAAA,KAAF;AAASJ,MAAAA,KAAK,EAAEM;AAAhB,KAAzB;AAAA,GAAZ,CAFE,CADsB,EAK5B,CAAEZ,MAAF,CAL4B,CAA7B;AAOA,QAAMa,gBAAgB,GAAGxB,OAAO,CAC/B;AAAA;;AAAA,+BAAMM,eAAe,CAAEK,MAAF,CAArB,qDAAM,iBAA2BY,IAAjC;AAAA,GAD+B,EAE/B,CAAEZ,MAAF,CAF+B,CAAhC;AAIA,QAAMc,cAAc,GAAGxB,WAAW,CAC/ByB,UAAF,IAAkB;AACjBhB,IAAAA,gCAAgC,CAAEF,SAAF,EAAakB,UAAb,CAAhC;AACA,GAHgC,EAIjC,CAAElB,SAAF,EAAaE,gCAAb,CAJiC,CAAlC,CA5B2D,CAmC3D;AACA;;AACA,MAAK,CAAED,cAAF,IAAoBA,cAAc,KAAKe,gBAA5C,EAA+D;AAC9D,WAAO,IAAP;AACA;;AAED,SACCd,gCAAgC,IAC/B;AAAK,IAAA,SAAS,EAAC;AAAf,KACC,cAAC,aAAD;AACC,IAAA,uBAAuB,MADxB;AAEC,IAAA,OAAO,EAAGU,aAFX;AAGC,IAAA,KAAK,EAAGX,cAAc,IAAI,EAH3B;AAIC,IAAA,KAAK,EAAGP,EAAE,CAAE,eAAF,CAJX;AAKC,IAAA,QAAQ,EAAGuB;AALZ,IADD,CAFF;AAaA","sourcesContent":["/**\n * WordPress dependencies\n */\nimport { store as blocksStore } from '@wordpress/blocks';\nimport { useMemo, useCallback } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\nimport { SelectControl } from '@wordpress/components';\nimport { useSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { store as blockEditorStore } from '../../store';\nimport { getDefaultStyle } from '../block-styles/utils';\n\nexport default function DefaultStylePicker( { blockName } ) {\n\tconst { preferredStyle, onUpdatePreferredStyleVariations, styles } =\n\t\tuseSelect(\n\t\t\t( select ) => {\n\t\t\t\tconst settings = select( blockEditorStore ).getSettings();\n\t\t\t\tconst preferredStyleVariations =\n\t\t\t\t\tsettings.__experimentalPreferredStyleVariations;\n\t\t\t\treturn {\n\t\t\t\t\tpreferredStyle:\n\t\t\t\t\t\tpreferredStyleVariations?.value?.[ blockName ],\n\t\t\t\t\tonUpdatePreferredStyleVariations:\n\t\t\t\t\t\tpreferredStyleVariations?.onChange ?? null,\n\t\t\t\t\tstyles: select( blocksStore ).getBlockStyles( blockName ),\n\t\t\t\t};\n\t\t\t},\n\t\t\t[ blockName ]\n\t\t);\n\tconst selectOptions = useMemo(\n\t\t() => [\n\t\t\t{ label: __( 'Not set' ), value: '' },\n\t\t\t...styles.map( ( { label, name } ) => ( { label, value: name } ) ),\n\t\t],\n\t\t[ styles ]\n\t);\n\tconst defaultStyleName = useMemo(\n\t\t() => getDefaultStyle( styles )?.name,\n\t\t[ styles ]\n\t);\n\tconst selectOnChange = useCallback(\n\t\t( blockStyle ) => {\n\t\t\tonUpdatePreferredStyleVariations( blockName, blockStyle );\n\t\t},\n\t\t[ blockName, onUpdatePreferredStyleVariations ]\n\t);\n\n\t// Until the functionality is migrated to global styles,\n\t// only show the default style picker if a non-default style has already been selected.\n\tif ( ! preferredStyle || preferredStyle === defaultStyleName ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\tonUpdatePreferredStyleVariations && (\n\t\t\t<div className=\"default-style-picker__default-switcher\">\n\t\t\t\t<SelectControl\n\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\toptions={ selectOptions }\n\t\t\t\t\tvalue={ preferredStyle || '' }\n\t\t\t\t\tlabel={ __( 'Default Style' ) }\n\t\t\t\t\tonChange={ selectOnChange }\n\t\t\t\t/>\n\t\t\t</div>\n\t\t)\n\t);\n}\n"]}