{"version":3,"sources":["@wordpress/block-editor/src/components/block-list/use-block-props/use-is-hovered.js"],"names":["useSelect","useRefEffect","store","blockEditorStore","listener","event","defaultPrevented","action","type","preventDefault","currentTarget","classList","useIsHovered","isEnabled","select","getSettings","outlineMode","node","addEventListener","removeEventListener","remove"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,SAAT,QAA0B,iBAA1B;AACA,SAASC,YAAT,QAA6B,oBAA7B;AAEA;AACA;AACA;;AACA,SAASC,KAAK,IAAIC,gBAAlB,QAA0C,gBAA1C;;AAEA,SAASC,QAAT,CAAmBC,KAAnB,EAA2B;AAC1B,MAAKA,KAAK,CAACC,gBAAX,EAA8B;AAC7B;AACA;;AAED,QAAMC,MAAM,GAAGF,KAAK,CAACG,IAAN,KAAe,WAAf,GAA6B,KAA7B,GAAqC,QAApD;AAEAH,EAAAA,KAAK,CAACI,cAAN;AACAJ,EAAAA,KAAK,CAACK,aAAN,CAAoBC,SAApB,CAA+BJ,MAA/B,EAAyC,YAAzC;AACA;AAED;AACA;AACA;AACA;;;AACA,OAAO,SAASK,YAAT,GAAwB;AAC9B,QAAMC,SAAS,GAAGb,SAAS,CAAIc,MAAF,IAAc;AAC1C,UAAM;AAAEC,MAAAA;AAAF,QAAkBD,MAAM,CAAEX,gBAAF,CAA9B;AACA,WAAOY,WAAW,GAAGC,WAArB;AACA,GAH0B,EAGxB,EAHwB,CAA3B;AAKA,SAAOf,YAAY,CAChBgB,IAAF,IAAY;AACX,QAAKJ,SAAL,EAAiB;AAChBI,MAAAA,IAAI,CAACC,gBAAL,CAAuB,UAAvB,EAAmCd,QAAnC;AACAa,MAAAA,IAAI,CAACC,gBAAL,CAAuB,WAAvB,EAAoCd,QAApC;AAEA,aAAO,MAAM;AACZa,QAAAA,IAAI,CAACE,mBAAL,CAA0B,UAA1B,EAAsCf,QAAtC;AACAa,QAAAA,IAAI,CAACE,mBAAL,CAA0B,WAA1B,EAAuCf,QAAvC,EAFY,CAIZ;;AACAa,QAAAA,IAAI,CAACN,SAAL,CAAeS,MAAf,CAAuB,YAAvB;AACA,OAND;AAOA;AACD,GAdiB,EAelB,CAAEP,SAAF,CAfkB,CAAnB;AAiBA","sourcesContent":["/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { useRefEffect } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport { store as blockEditorStore } from '../../../store';\n\nfunction listener( event ) {\n\tif ( event.defaultPrevented ) {\n\t\treturn;\n\t}\n\n\tconst action = event.type === 'mouseover' ? 'add' : 'remove';\n\n\tevent.preventDefault();\n\tevent.currentTarget.classList[ action ]( 'is-hovered' );\n}\n\n/**\n * Adds `is-hovered` class when the block is hovered and in navigation or\n * outline mode.\n */\nexport function useIsHovered() {\n\tconst isEnabled = useSelect( ( select ) => {\n\t\tconst { getSettings } = select( blockEditorStore );\n\t\treturn getSettings().outlineMode;\n\t}, [] );\n\n\treturn useRefEffect(\n\t\t( node ) => {\n\t\t\tif ( isEnabled ) {\n\t\t\t\tnode.addEventListener( 'mouseout', listener );\n\t\t\t\tnode.addEventListener( 'mouseover', listener );\n\n\t\t\t\treturn () => {\n\t\t\t\t\tnode.removeEventListener( 'mouseout', listener );\n\t\t\t\t\tnode.removeEventListener( 'mouseover', listener );\n\n\t\t\t\t\t// Remove class in case it lingers.\n\t\t\t\t\tnode.classList.remove( 'is-hovered' );\n\t\t\t\t};\n\t\t\t}\n\t\t},\n\t\t[ isEnabled ]\n\t);\n}\n"]}