{"version":3,"sources":["@wordpress/components/src/navigation/index.js"],"names":["noop","Navigation","activeItem","activeMenu","ROOT_MENU","children","className","onActivateMenu","menu","setMenu","slideOrigin","setSlideOrigin","navigationTree","defaultSlideOrigin","setActiveMenu","menuId","slideInOrigin","getMenu","isMounted","current","context","classes","animateClassName","type","origin"],"mappings":";;;;;;;;;AAQA;;AALA;;AAMA;;AAKA;;AACA;;AACA;;AACA;;AACA;;AAlBA;AACA;AACA;;AAGA;AACA;AACA;;AAIA;AACA;AACA;AAOA,MAAMA,IAAI,GAAG,MAAM,CAAE,CAArB;;AAEe,SAASC,UAAT,OAMX;AAAA,MANgC;AACnCC,IAAAA,UADmC;AAEnCC,IAAAA,UAAU,GAAGC,oBAFsB;AAGnCC,IAAAA,QAHmC;AAInCC,IAAAA,SAJmC;AAKnCC,IAAAA,cAAc,GAAGP;AALkB,GAMhC;AACH,QAAM,CAAEQ,IAAF,EAAQC,OAAR,IAAoB,uBAAUN,UAAV,CAA1B;AACA,QAAM,CAAEO,WAAF,EAAeC,cAAf,IAAkC,wBAAxC;AACA,QAAMC,cAAc,GAAG,uDAAvB;AACA,QAAMC,kBAAkB,GAAG,qBAAU,OAAV,GAAoB,MAA/C;;AAEA,QAAMC,aAAa,GAAG,UAAEC,MAAF,EAAkD;AAAA,QAAxCC,aAAwC,uEAAxBH,kBAAwB;;AACvE,QAAK,CAAED,cAAc,CAACK,OAAf,CAAwBF,MAAxB,CAAP,EAA0C;AACzC;AACA;;AAEDJ,IAAAA,cAAc,CAAEK,aAAF,CAAd;AACAP,IAAAA,OAAO,CAAEM,MAAF,CAAP;AACAR,IAAAA,cAAc,CAAEQ,MAAF,CAAd;AACA,GARD,CANG,CAgBH;;;AACA,QAAMG,SAAS,GAAG,qBAAQ,KAAR,CAAlB;AACA,0BAAW,MAAM;AAChB,QAAK,CAAEA,SAAS,CAACC,OAAjB,EAA2B;AAC1BD,MAAAA,SAAS,CAACC,OAAV,GAAoB,IAApB;AACA;AACD,GAJD,EAIG,EAJH;AAMA,0BAAW,MAAM;AAChB,QAAKhB,UAAU,KAAKK,IAApB,EAA2B;AAC1BM,MAAAA,aAAa,CAAEX,UAAF,CAAb;AACA,KAHe,CAIhB;AACA;AACA;;AACA,GAPD,EAOG,CAAEA,UAAF,CAPH;AASA,QAAMiB,OAAO,GAAG;AACflB,IAAAA,UADe;AAEfC,IAAAA,UAAU,EAAEK,IAFG;AAGfM,IAAAA,aAHe;AAIfF,IAAAA;AAJe,GAAhB;AAOA,QAAMS,OAAO,GAAG,yBAAY,uBAAZ,EAAqCf,SAArC,CAAhB;AACA,QAAMgB,gBAAgB,GAAG,kCAAqB;AAC7CC,IAAAA,IAAI,EAAE,UADuC;AAE7CC,IAAAA,MAAM,EAAEd;AAFqC,GAArB,CAAzB;AAKA,SACC,4BAAC,8BAAD;AAAc,IAAA,SAAS,EAAGW;AAA1B,KACC;AACC,IAAA,GAAG,EAAGb,IADP;AAEC,IAAA,SAAS,EAAG,yBAAY;AACvB,OAAEc,gBAAF,GAAsBJ,SAAS,CAACC,OAAV,IAAqBT;AADpB,KAAZ;AAFb,KAMC,4BAAC,0BAAD,CAAmB,QAAnB;AAA4B,IAAA,KAAK,EAAGU;AAApC,KACGf,QADH,CAND,CADD,CADD;AAcA","sourcesContent":["/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { useEffect, useRef, useState } from '@wordpress/element';\nimport { isRTL } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport { getAnimateClassName } from '../animate';\nimport { ROOT_MENU } from './constants';\nimport { NavigationContext } from './context';\nimport { NavigationUI } from './styles/navigation-styles';\nimport { useCreateNavigationTree } from './use-create-navigation-tree';\n\nconst noop = () => {};\n\nexport default function Navigation( {\n\tactiveItem,\n\tactiveMenu = ROOT_MENU,\n\tchildren,\n\tclassName,\n\tonActivateMenu = noop,\n} ) {\n\tconst [ menu, setMenu ] = useState( activeMenu );\n\tconst [ slideOrigin, setSlideOrigin ] = useState();\n\tconst navigationTree = useCreateNavigationTree();\n\tconst defaultSlideOrigin = isRTL() ? 'right' : 'left';\n\n\tconst setActiveMenu = ( menuId, slideInOrigin = defaultSlideOrigin ) => {\n\t\tif ( ! navigationTree.getMenu( menuId ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tsetSlideOrigin( slideInOrigin );\n\t\tsetMenu( menuId );\n\t\tonActivateMenu( menuId );\n\t};\n\n\t// Used to prevent the sliding animation on mount\n\tconst isMounted = useRef( false );\n\tuseEffect( () => {\n\t\tif ( ! isMounted.current ) {\n\t\t\tisMounted.current = true;\n\t\t}\n\t}, [] );\n\n\tuseEffect( () => {\n\t\tif ( activeMenu !== menu ) {\n\t\t\tsetActiveMenu( activeMenu );\n\t\t}\n\t\t// Ignore exhaustive-deps here, as it would require either a larger refactor or some questionable workarounds.\n\t\t// See https://github.com/WordPress/gutenberg/pull/41612 for context.\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [ activeMenu ] );\n\n\tconst context = {\n\t\tactiveItem,\n\t\tactiveMenu: menu,\n\t\tsetActiveMenu,\n\t\tnavigationTree,\n\t};\n\n\tconst classes = classnames( 'components-navigation', className );\n\tconst animateClassName = getAnimateClassName( {\n\t\ttype: 'slide-in',\n\t\torigin: slideOrigin,\n\t} );\n\n\treturn (\n\t\t<NavigationUI className={ classes }>\n\t\t\t<div\n\t\t\t\tkey={ menu }\n\t\t\t\tclassName={ classnames( {\n\t\t\t\t\t[ animateClassName ]: isMounted.current && slideOrigin,\n\t\t\t\t} ) }\n\t\t\t>\n\t\t\t\t<NavigationContext.Provider value={ context }>\n\t\t\t\t\t{ children }\n\t\t\t\t</NavigationContext.Provider>\n\t\t\t</div>\n\t\t</NavigationUI>\n\t);\n}\n"]}